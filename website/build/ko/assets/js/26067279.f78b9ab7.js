"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3182],{19411:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var a=t(85893),r=t(11151),s=t(71183);const i={id:"circulating-supply",title:"\uc21c\ud658 \uacf5\uae09(Circulating Supply) \uc0dd\uc131",sidebar_label:"\uc21c\ud658 \uacf5\uae09"},l=void 0,o={id:"tutorials/fts/circulating-supply",title:"\uc21c\ud658 \uacf5\uae09(Circulating Supply) \uc0dd\uc131",description:"\uc774\uc804 \ud29c\ud1a0\ub9ac\uc5bc\uc5d0\uc11c\ub294 \ub300\uccb4 \uac00\ub2a5\ud55c \ud1a0\ud070(FT)\uc774 \ubb34\uc5c7\uc774\uba70, \uc2a4\ub9c8\ud2b8 \ucee8\ud2b8\ub799\ud2b8\uc5d0\uc11c \ud1a0\ud070\uc744 \uc815\uc758\ud558\ub294 \ubc29\ubc95\uc744 \uc0b4\ud3b4\ubcf4\uc558\uc2b5\ub2c8\ub2e4. \uc774 \ud29c\ud1a0\ub9ac\uc5bc\uc5d0\uc11c\ub294 \ucee8\ud2b8\ub799\ud2b8 \uc18c\uc720\uc790\uc5d0\uac8c \uc18d\ud55c \uc21c\ud658 \uacf5\uae09\uc744 \uc0dd\uc131\ud558\uace0, NEAR \uc9c0\uac11\uc5d0\uc11c \uba54\ud0c0\ub370\uc774\ud130\uc640 \ud568\uaed8 \ubaa8\ub4e0 \ud1a0\ud070\uc744 \ubcf4\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574 \ubc30\uc6c1\ub2c8\ub2e4.",source:"@site/i18n/ko/docusaurus-plugin-content-docs/current/3.tutorials/fts/3-circulating-supply.md",sourceDirName:"3.tutorials/fts",slug:"/tutorials/fts/circulating-supply",permalink:"/ko/tutorials/fts/circulating-supply",draft:!1,unlisted:!1,editUrl:"https://github.com/near/docs/edit/master/website/../docs/3.tutorials/fts/3-circulating-supply.md",tags:[],version:"current",lastUpdatedBy:"Github Actions",lastUpdatedAt:1719220968e3,sidebarPosition:3,frontMatter:{id:"circulating-supply",title:"\uc21c\ud658 \uacf5\uae09(Circulating Supply) \uc0dd\uc131",sidebar_label:"\uc21c\ud658 \uacf5\uae09"},sidebar:"tutorials",previous:{title:"\ud1a0\ud070 \uc815\uc758",permalink:"/ko/tutorials/fts/defining-a-token"},next:{title:"\uacc4\uc815 \ub4f1\ub85d",permalink:"/ko/tutorials/fts/registering-accounts"}},c={},d=[{value:"\uc18c\uac1c",id:"\uc18c\uac1c",level:2},{value:"\ucee8\ud2b8\ub799\ud2b8 \uc218\uc815",id:"\ucee8\ud2b8\ub799\ud2b8-\uc218\uc815",level:2},{value:"\uacf5\uae09 \uc124\uc815",id:"\uacf5\uae09-\uc124\uc815",level:3},{value:"\uacf5\uae09\ub7c9 \uac00\uc838\uc624\uae30",id:"\uacf5\uae09\ub7c9-\uac00\uc838\uc624\uae30",level:3},{value:"\uc774\ubca4\ud2b8",id:"\uc774\ubca4\ud2b8",level:2},{value:"\ubb38\uc81c\uc810",id:"the-problem",level:3},{value:"\ud574\uacb0\ucc45",id:"the-solution",level:3},{value:"\uc608\uc2dc",id:"examples",level:3},{value:"\uc2dc\ub098\ub9ac\uc624 A - \uac04\ub2e8\ud55c \ubc1c\ud589",id:"\uc2dc\ub098\ub9ac\uc624-a---\uac04\ub2e8\ud55c-\ubc1c\ud589",level:4},{value:"\uc2dc\ub098\ub9ac\uc624 B - \ubc30\uce58(Batch) \uc804\uc1a1",id:"\uc2dc\ub098\ub9ac\uc624-b---\ubc30\uce58batch-\uc804\uc1a1",level:4},{value:"\ucee8\ud2b8\ub799\ud2b8 \uc218\uc815",id:"modifications-to-the-contract",level:2},{value:"\uc774\ubca4\ud2b8 \ud30c\uc77c \uc0dd\uc131",id:"events-rs",level:3},{value:"\ubaa8\ub4c8 \ubc0f \uc0c1\uc218 \ucd94\uac00",id:"lib-rs",level:3},{value:"\ubc1c\ud589\ub41c \ucd1d \uacf5\uae09\ub7c9 \ub85c\uae45",id:"\ubc1c\ud589\ub41c-\ucd1d-\uacf5\uae09\ub7c9-\ub85c\uae45",level:3},{value:"\ucee8\ud2b8\ub799\ud2b8 \ubc30\ud3ec",id:"redeploying-contract",level:2},{value:"\ud558\uc704 \uacc4\uc815(sub-account) \uc0dd\uc131",id:"\ud558\uc704-\uacc4\uc815sub-account-\uc0dd\uc131",level:3},{value:"Deploying and Initialization",id:"deploying-initialization",level:3},{value:"\uacf5\uae09\ub7c9 \uc815\ubcf4 \ucffc\ub9ac",id:"testing",level:3},{value:"\uc9c0\uac11\uc5d0\uc11c FT \ubcf4\uae30",id:"viewing-fts-in-wallet",level:2},{value:"\uacb0\ub860",id:"\uacb0\ub860",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"\uc774\uc804 \ud29c\ud1a0\ub9ac\uc5bc\uc5d0\uc11c\ub294 \ub300\uccb4 \uac00\ub2a5\ud55c \ud1a0\ud070(FT)\uc774 \ubb34\uc5c7\uc774\uba70, \uc2a4\ub9c8\ud2b8 \ucee8\ud2b8\ub799\ud2b8\uc5d0\uc11c \ud1a0\ud070\uc744 \uc815\uc758\ud558\ub294 \ubc29\ubc95\uc744 \uc0b4\ud3b4\ubcf4\uc558\uc2b5\ub2c8\ub2e4. \uc774 \ud29c\ud1a0\ub9ac\uc5bc\uc5d0\uc11c\ub294 \ucee8\ud2b8\ub799\ud2b8 \uc18c\uc720\uc790\uc5d0\uac8c \uc18d\ud55c \uc21c\ud658 \uacf5\uae09\uc744 \uc0dd\uc131\ud558\uace0, NEAR \uc9c0\uac11\uc5d0\uc11c \uba54\ud0c0\ub370\uc774\ud130\uc640 \ud568\uaed8 \ubaa8\ub4e0 \ud1a0\ud070\uc744 \ubcf4\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574 \ubc30\uc6c1\ub2c8\ub2e4."}),"\n",(0,a.jsxs)(n.p,{children:["\uc2dc\uc791\ud558\ub824\uba74 \uc774\uc804 \ud29c\ud1a0\ub9ac\uc5bc\uc5d0\uc11c \uc791\uc131\ud55c \ucf54\ub4dc\ub97c \uc0ac\uc6a9\ud558\uac70\ub098, \ub808\ud37c\uc9c0\ud1a0\ub9ac\uc758 ",(0,a.jsx)(n.code,{children:"2.define-a-token"})," \ud3f4\ub354\ub85c \uc774\ub3d9\ud558\uc138\uc694. \ub808\ud37c\uc9c0\ud1a0\ub9ac\ub97c \ubcf5\uc81c\ud558\uc9c0 \uc54a\uc740 \uacbd\uc6b0 ",(0,a.jsx)(n.a,{href:"/ko/tutorials/fts/skeleton",children:"\ucee8\ud2b8\ub799\ud2b8 \uc544\ud0a4\ud14d\ucc98"}),"\ub97c \ucc38\uc870\ud558\uc5ec \uc2dc\uc791\ud558\uc138\uc694."]}),"\n",(0,a.jsxs)(n.p,{children:["\uc774 \ud29c\ud1a0\ub9ac\uc5bc\uc758 \uc644\uc131\ub41c \ucf54\ub4dc\ub97c \ubcf4\ub824\uba74 ",(0,a.jsx)(n.code,{children:"3.initial-supply"})," \ud3f4\ub354\uc5d0\uc11c \ucc3e\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"\uc18c\uac1c",children:"\uc18c\uac1c"}),"\n",(0,a.jsx)(n.p,{children:"NEAR\uc758 \ubaa8\ub4e0 \ub300\uccb4 \uac00\ub2a5\ud55c \ud1a0\ud070 \ucee8\ud2b8\ub799\ud2b8\uc5d0\ub294 \uc21c\ud658 \uacf5\uae09(Circulating Supply)\uc73c\ub85c \uc54c\ub824\uc9c4 \uac83\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc774\uac83\uc740 \ucee8\ud2b8\ub799\ud2b8\uc5d0 \uc874\uc7ac\ud558\uace0 \ud2b8\ub79c\uc7ad\uc158\uc5d0 \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ud1a0\ud070\uc758 \uc218\uc785\ub2c8\ub2e4."}),"\n",(0,a.jsx)(n.p,{children:"\ucee8\ud2b8\ub799\ud2b8\ub97c \uc791\uc131\ud560 \ub54c \uc774\ub97c \uad6c\ud604\ud560 \uc218 \uc788\ub294 \ub2e4\uc591\ud55c \ubc29\ubc95\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uba87 \uac00\uc9c0 \uc608\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\uc2dc\uc791 \ucd1d \uacf5\uae09\ub7c9\uc744 \uc9c0\uc815\ud558\uace0 \uc77c\ub828\uc758 \ub9e4\uac1c\ubcc0\uc218\uc5d0 \ub530\ub77c \ubd84\ubc30\ud569\ub2c8\ub2e4(Benji\ub294 20%, Josh\ub294 2.5%, \ub098\uba38\uc9c0\ub294 Mike\uc5d0\uac8c \ud560\ub2f9)."}),"\n",(0,a.jsx)(n.li,{children:"\ubaa8\ub4e0 \uc0ac\ub78c\uc774 \ucd5c\ub300 X \uac1c\uc758 \ud1a0\ud070\uc744 \uccad\uad6c\ud560 \uc218 \uc788\ub294 \uc120\ucc29\uc21c \uc11c\ube44\uc2a4 \ud480\uc744 \ub9cc\ub4dc\uc138\uc694."}),"\n",(0,a.jsx)(n.li,{children:"\uc8fc\ubb38\ud615 \ud1a0\ud070\uc744 \uc0dd\uc131\ud558\uc5ec \uc9c0\uc815\ub41c \uc0c1\ud55c\uc120\uae4c\uc9c0 \uc21c\ud658 \uacf5\uae09\uc774 \uafb8\uc900\ud788 \uc99d\uac00\ud558\ub3c4\ub85d \ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\uadf8\ub7ec\ub098 \uac00\uc7a5 \uac04\ub2e8\ud55c \ubc29\ubc95\uc740 \ucee8\ud2b8\ub799\ud2b8\ub97c \ucd08\uae30\ud654\ud560 \ub54c \ucd1d \uacf5\uae09\ub7c9\uc744 \uc9c0\uc815\ud558\ub294 \uac83\uc785\ub2c8\ub2e4. \uadf8\ub7f0 \ub2e4\uc74c, \uc804\uccb4 \uc21c\ud658 \uacf5\uae09\uc774 \uc0dd\uc131\ub418\uc5b4 \ucee8\ud2b8\ub799\ud2b8 \uc18c\uc720\uc790\uc5d0\uac8c \uc804\uc1a1\ub429\ub2c8\ub2e4. \uadf8\ub7ec\uba74 \uc18c\uc720\uc790\ub294 \uc6d0\ud558\ub294 \ub300\ub85c \ud1a0\ud070\uc744 \uc591\ub3c4\ud558\uac70\ub098 \ud310\ub9e4\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ucd08\uae30 \uacf5\uae09\uc774 \uc0dd\uc131\ub418\uba74 \ub354 \uc774\uc0c1 FT\ub97c \ubc1c\ud589\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc774\uac83\uc740 \uc21c\ud658 \uacf5\uae09\uc774 \ud56d\uc0c1 \ucd1d \uacf5\uae09\uacfc \ub3d9\uc77c\ud558\ub2e4\ub294 \uac83\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4."}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"\ucee8\ud2b8\ub799\ud2b8-\uc218\uc815",children:"\ucee8\ud2b8\ub799\ud2b8 \uc218\uc815"}),"\n",(0,a.jsx)(n.p,{children:"\uc774 \ub85c\uc9c1\uc744 \uad6c\ud604\ud558\ub824\uba74 \uc2a4\ub9c8\ud2b8 \ucee8\ud2b8\ub799\ud2b8\uc5d0\uc11c \ub450 \uac00\uc9c0 \uc0ac\ud56d\uc744 \ucd94\uc801\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\uc18c\uc720\ud55c \ud1a0\ud070 \uc218\uc640 \uacc4\uc815\uc758 \ub9e4\ud551"}),"\n",(0,a.jsx)(n.li,{children:"\ud1a0\ud070\uc758 \ucd1d \uacf5\uae09\ub7c9"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\ub9e4\ud551\uc740 \ucee8\ud2b8\ub799\ud2b8 \ub0b4\uc5d0\uc11c \uc5b8\uc81c\ub4e0\uc9c0 \uc8fc\uc5b4\uc9c4 \uacc4\uc815\uc774 \uc18c\uc720\ud55c \ud1a0\ud070\uc744 \uc27d\uac8c \ud655\uc778\ud558\uac70\ub098 \uc218\uc815\ud560 \uc218 \uc788\ub3c4\ub85d \ud569\ub2c8\ub2e4. \ub610\ud55c \ud45c\uc900\uc5d0 \ub530\ub77c \ucee8\ud2b8\ub799\ud2b8\uc5d0\uc11c \ud1a0\ud070 \uacf5\uae09\uc744 \ucffc\ub9ac\ud558\ub294 \uae30\ub2a5\uc774 \ud544\uc694\ud558\ubbc0\ub85c, \ucd1d \uacf5\uae09\ub7c9\uc744 \ucd94\uc801\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,a.jsx)("hr",{className:"subsection"}),"\n",(0,a.jsx)(n.h3,{id:"\uacf5\uae09-\uc124\uc815",children:"\uacf5\uae09 \uc124\uc815"}),"\n",(0,a.jsxs)(n.p,{children:["Head over to the ",(0,a.jsx)(n.code,{children:"src/lib.rs"})," file and add the following code to the ",(0,a.jsx)(n.code,{children:"Contract"})," struct."]}),"\n",(0,a.jsx)(s.Ey,{language:"rust",start:"21",end:"33",url:"https://github.com/near-examples/ft-tutorial/blob/main/3.initial-supply/src/lib.rs"}),"\n",(0,a.jsxs)(n.p,{children:["You'll now want to add the functionality for depositing the tokens into the owner's account. Do this by creating a helper function that takes an amount and an account ID and performs the deposit logic for you. First create a new file ",(0,a.jsx)(n.code,{children:"src/internal.rs"})," such that your file structure now looks as follows."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"src\n  \u251c\u2500\u2500 ft_core.rs\n  \u251c\u2500\u2500 internal.rs\n  \u251c\u2500\u2500 lib.rs\n  \u251c\u2500\u2500 metadata.rs\n  \u2514\u2500\u2500 storage.rs\n"})}),"\n",(0,a.jsxs)(n.p,{children:["In the ",(0,a.jsx)(n.code,{children:"internal.rs"})," file, add the following code to create a function called ",(0,a.jsx)(n.code,{children:"internal_deposit"})," which takes an ",(0,a.jsx)(n.code,{children:"AccountId"})," and a ",(0,a.jsx)(n.code,{children:"NearToken"})," as a balance and adds the amount to the account's current supply of FTs."]}),"\n",(0,a.jsx)(s.Ey,{language:"rust",start:"1",end:"18",url:"https://github.com/near-examples/ft-tutorial/blob/main/3.initial-supply/src/internal.rs"}),"\n",(0,a.jsxs)(n.p,{children:["Now that the functionality for depositing FTs is in place, switch back to the ",(0,a.jsx)(n.code,{children:"src/lib.rs"})," file and add the ",(0,a.jsx)(n.code,{children:"internal"})," module:"]}),"\n",(0,a.jsx)(s.Ey,{language:"rust",start:"8",end:"10",url:"https://github.com/near-examples/ft-tutorial/blob/main/3.initial-supply/src/lib.rs"}),"\n",(0,a.jsxs)(n.p,{children:["In addition, add the following code to the ",(0,a.jsx)(n.code,{children:"new"})," initialization function."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-rust",children:"#[init]\npub fn new(\n    owner_id: AccountId,\n    total_supply: U128,\n    metadata: FungibleTokenMetadata,\n) -> Self {\n    let casted_total_supply = NearToken::from_yoctonear(total_supply.0);\n    // Create a variable of type Self with all the fields initialized.\n    let mut this = Self {\n        // Set the total supply\n        total_supply: casted_total_supply,\n        // Storage keys are simply the prefixes used for the collections. This helps avoid data collision\n        accounts: LookupMap::new(StorageKey::Accounts),\n        metadata: LazyOption::new(\n            StorageKey::Metadata,\n            Some(&metadata),\n        ),\n    };\n\n    // Set the owner's balance to the total supply.\n    this.internal_deposit(&owner_id, casted_total_supply);\n\n    // Return the Contract object\n    this\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["This will initialize the total supply to what you passed in and will call the ",(0,a.jsx)(n.code,{children:"internal_deposit"})," function to add the total supply to the owner's account."]}),"\n",(0,a.jsx)("hr",{className:"subsection"}),"\n",(0,a.jsx)(n.h3,{id:"\uacf5\uae09\ub7c9-\uac00\uc838\uc624\uae30",children:"\uacf5\uae09\ub7c9 \uac00\uc838\uc624\uae30"}),"\n",(0,a.jsxs)(n.p,{children:["Now that you've created a way to set the total supply, you'll also want a way to query for it as well as the balance for a specific user. The ",(0,a.jsx)(n.a,{href:"https://nomicon.io/Standards/Tokens/FungibleToken/Core",children:"standard"})," dictates that you should have two methods on your smart contract for doing these operations:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"ft_total_supply"})})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"ft_balance_of"})})}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Head on over to the ",(0,a.jsx)(n.code,{children:"src/ft_core.rs"})," file and add the following code to these functions."]}),"\n",(0,a.jsx)(s.Ey,{language:"rust",start:"83",end:"91",url:"https://github.com/near-examples/ft-tutorial/blob/main/3.initial-supply/src/ft_core.rs"}),"\n",(0,a.jsx)(n.p,{children:"At this point, you have everything you need to create an initial supply of tokens and query for the balance of a given account. There is, however, a problem that we need to solve. How will the wallet know that the total supply was created and is owned by the contract owner? How would it even know that our contract is a fungible token contract? If you were to deploy the contract and run through the setup process, you would be able to query for the information from the contract but you wouldn't see any FTs in the owner's NEAR wallet."}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"\uc774\ubca4\ud2b8",children:"\uc774\ubca4\ud2b8"}),"\n",(0,a.jsxs)(n.p,{children:["Have you ever wondered how the wallet knows which FTs you own and how it can display them in the ",(0,a.jsx)(n.a,{href:"https://testnet.mynearwallet.com/",children:"balances tab"}),"? Originally, an indexer used to listen for any function calls starting with ",(0,a.jsx)(n.code,{children:"ft_"})," on your account. These contracts were then flagged on your account as likely FT contracts."]}),"\n",(0,a.jsxs)(n.p,{children:["When you navigated to your balances tab, the wallet would then query all those contracts for the number of FTs you owned using the ",(0,a.jsx)(n.code,{children:"ft_balance_of"})," function you just wrote."]}),"\n",(0,a.jsx)("hr",{className:"subsection"}),"\n",(0,a.jsx)(n.h3,{id:"the-problem",children:"\ubb38\uc81c\uc810"}),"\n",(0,a.jsx)(n.p,{children:"This method of flagging contracts was not reliable as each FT-driven application might have its own way of minting or transferring FTs. In addition, it's common for apps to transfer or mint many tokens at a time using batch functions."}),"\n",(0,a.jsx)("hr",{className:"subsection"}),"\n",(0,a.jsx)(n.h3,{id:"the-solution",children:"\ud574\uacb0\ucc45"}),"\n",(0,a.jsx)(n.p,{children:"A standard was introduced so that smart contracts could emit an event anytime FTs were transferred, minted, or burnt. This event was in the form of a log. No matter how a contract implemented the functionality, an indexer could now listen for those standardized logs."}),"\n",(0,a.jsx)(n.p,{children:"As per the standard, you need to implement a logging functionality that gets fired when FTs are transferred or minted. In this case, the contract doesn't support burning so you don't need to worry about that for now."}),"\n",(0,a.jsxs)(n.p,{children:["It's important to note the standard dictates that the log should begin with ",(0,a.jsx)(n.code,{children:'"EVENT_JSON:"'}),". The structure of your log should, however, always contain the 3 following things:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"standard"}),": the current name of the standard (e.g. ",(0,a.jsx)(n.code,{children:"nep141"}),")"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"version"}),": the version of the standard you're using (e.g. ",(0,a.jsx)(n.code,{children:"1.0.0"}),")"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"event"}),": \ub0b4\ubcf4\ub0b4\ub294 \uc774\ubca4\ud2b8 \ubaa9\ub85d"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The event interface differs based on whether you're recording transfers or mints. The interface for both events is outlined below."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Transfer events"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"old_owner_id"}),": FT\uc758 \uc774\uc804 \uc18c\uc720\uc790"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"new_owner_id"}),": FT\ub97c \uc804\uc1a1\ubc1b\uc740 \uc0c8 \uc18c\uc720\uc790"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"amount"}),": \uc804\uc1a1\ub41c \ud1a0\ud070\uc758 \uc218"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"\uc120\ud0dd \uc0ac\ud56d"})," - ",(0,a.jsx)(n.strong,{children:"memo"}),": \uc774\ubca4\ud2b8\uc5d0 \ud3ec\ud568\ud560 \uc120\ud0dd\uc801 \uba54\uc2dc\uc9c0"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Minting events"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"owner_id"}),": FT\uac00 \ubc1c\ud589\ub418\ub294 \uc18c\uc720\uc790"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"amount"}),": \ubc1c\ud589\ub418\ub294 FT\uc758 \uc591"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"\uc120\ud0dd \uc0ac\ud56d"})," - ",(0,a.jsx)(n.strong,{children:"memo"}),": \uc774\ubca4\ud2b8\uc5d0 \ud3ec\ud568\ud560 \uc120\ud0dd\uc801 \uba54\uc2dc\uc9c0"]}),"\n"]}),"\n",(0,a.jsx)("hr",{className:"subsection"}),"\n",(0,a.jsx)(n.h3,{id:"examples",children:"\uc608\uc2dc"}),"\n",(0,a.jsx)(n.p,{children:"In order to solidify your understanding of the standard, let's walk through two scenarios and see what the logs should look like."}),"\n",(0,a.jsx)(n.h4,{id:"\uc2dc\ub098\ub9ac\uc624-a---\uac04\ub2e8\ud55c-\ubc1c\ud589",children:"\uc2dc\ub098\ub9ac\uc624 A - \uac04\ub2e8\ud55c \ubc1c\ud589"}),"\n",(0,a.jsx)(n.p,{children:"In this scenario, the Benji mints 50 FTs to himself and doesn't include a message. The log should look as follows."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'EVENT_JSON:{\n  "standard": "nep141",\n  "version": "1.0.0",\n  "event": "ft_mint",\n  "data": [\n    {"owner_id": "benji.testnet", "amount": "50"}\n  ]\n}\n'})}),"\n",(0,a.jsx)("hr",{className:"subsection"}),"\n",(0,a.jsx)(n.h4,{id:"\uc2dc\ub098\ub9ac\uc624-b---\ubc30\uce58batch-\uc804\uc1a1",children:"\uc2dc\ub098\ub9ac\uc624 B - \ubc30\uce58(Batch) \uc804\uc1a1"}),"\n",(0,a.jsx)(n.p,{children:"In this scenario, Benji wants to perform a batch transfer. He will send FTs to Jada, Mike, Josh, and Maria. The log is as follows."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'EVENT_JSON:{\n    "standard": "nep141",\n    "version": "1.0.0",\n    "event": "ft_transfer",\n    "data": [\n        {"old_owner_id": "benji.near", "new_owner_id": "josh.near", "amount": "1", "memo": "go team"},\n        {"old_owner_id": "benji.near", "new_owner_id": "mike.near", "amount": "9000"},\n        {"old_owner_id": "benji.near", "new_owner_id": "jada.near", "amount": "500"},\n        {"old_owner_id": "benji.near", "new_owner_id": "maria.near", "amount": "500"}\n    ]\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"modifications-to-the-contract",children:"\ucee8\ud2b8\ub799\ud2b8 \uc218\uc815"}),"\n",(0,a.jsxs)(n.p,{children:["At this point, you should have a good understanding of what the end goal should be so let's get to work! Open the ",(0,a.jsx)(n.code,{children:"src"})," directory and create a new file called ",(0,a.jsx)(n.code,{children:"events.rs"}),". This is where your log structs will live."]}),"\n",(0,a.jsx)(n.h3,{id:"events-rs",children:"\uc774\ubca4\ud2b8 \ud30c\uc77c \uc0dd\uc131"}),"\n",(0,a.jsxs)(n.p,{children:["Copy the following into your file. This will outline the structs for your ",(0,a.jsx)(n.code,{children:"EventLog"}),", ",(0,a.jsx)(n.code,{children:"FtMintLog"}),", and ",(0,a.jsx)(n.code,{children:"FtTransferLog"}),". In addition, we've added a way for ",(0,a.jsx)(n.code,{children:"EVENT_JSON:"})," to be prefixed whenever you log the ",(0,a.jsx)(n.code,{children:"EventLog"}),"."]}),"\n",(0,a.jsx)(s.Ey,{language:"rust",start:"16",end:"121",url:"https://github.com/near-examples/ft-tutorial/blob/main/3.initial-supply/src/events.rs"}),"\n",(0,a.jsx)("hr",{className:"subsection"}),"\n",(0,a.jsx)(n.h3,{id:"lib-rs",children:"\ubaa8\ub4c8 \ubc0f \uc0c1\uc218 \ucd94\uac00"}),"\n",(0,a.jsxs)(n.p,{children:["Now that you've created a new file, you need to add the module to the ",(0,a.jsx)(n.code,{children:"lib.rs"})," file."]}),"\n",(0,a.jsx)(s.Ey,{language:"rust",start:"1",end:"13",url:"https://github.com/near-examples/ft-tutorial/blob/main/3.initial-supply/src/lib.rs"}),"\n",(0,a.jsx)("hr",{className:"subsection"}),"\n",(0,a.jsx)(n.h3,{id:"\ubc1c\ud589\ub41c-\ucd1d-\uacf5\uae09\ub7c9-\ub85c\uae45",children:"\ubc1c\ud589\ub41c \ucd1d \uacf5\uae09\ub7c9 \ub85c\uae45"}),"\n",(0,a.jsxs)(n.p,{children:["Now that all the tools are set in place, you can implement the actual logging functionality. Since the contract will only be minting tokens at the very start when it's initialized, it's trivial where you should place the log. Open the ",(0,a.jsx)(n.code,{children:"src/lib.rs"})," file and navigate to the bottom of the ",(0,a.jsx)(n.code,{children:"new"})," initialization function. This is where you'll construct the log for minting."]}),"\n",(0,a.jsx)(s.Ey,{language:"rust",start:"67",end:"98",url:"https://github.com/near-examples/ft-tutorial/blob/main/3.initial-supply/src/lib.rs"}),"\n",(0,a.jsx)(n.p,{children:"With that finished, you've successfully implemented the backbone of the events standard and it's time to start testing."}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"redeploying-contract",children:"\ucee8\ud2b8\ub799\ud2b8 \ubc30\ud3ec"}),"\n",(0,a.jsx)(n.p,{children:"Since the current contract you have is already initialized, let's create a sub-account and deploy to that instead."}),"\n",(0,a.jsx)(n.h3,{id:"\ud558\uc704-\uacc4\uc815sub-account-\uc0dd\uc131",children:"\ud558\uc704 \uacc4\uc815(sub-account) \uc0dd\uc131"}),"\n",(0,a.jsxs)(n.p,{children:["Run the following command to create a sub-account ",(0,a.jsx)(n.code,{children:"events"})," of your main account with an initial balance of 3 NEAR which will be transferred from the original to your new account."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"near account create-account fund-myself events.$FT_CONTRACT_ID '3 NEAR' autogenerate-new-keypair save-to-legacy-keychain sign-as $FT_CONTRACT_ID network-config testnet sign-with-legacy-keychain send\n"})}),"\n",(0,a.jsx)(n.p,{children:"Next, you'll want to export an environment variable for ease of development:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"export EVENTS_FT_CONTRACT_ID=events.$FT_CONTRACT_ID\n"})}),"\n",(0,a.jsx)(n.p,{children:"Build the contract as you did in the previous tutorials:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd 2.define-a-token\ncargo near build\n"})}),"\n",(0,a.jsx)("hr",{className:"subsection"}),"\n",(0,a.jsx)(n.h3,{id:"deploying-initialization",children:"Deploying and Initialization"}),"\n",(0,a.jsxs)(n.p,{children:["It's time to deploy the contract, initialize it and mint the total supply. \ucd08\uae30 \uacf5\uae09\ub7c9\uc744 1000 ",(0,a.jsx)(n.code,{children:"gtNEAR"}),"\ub85c \ub9cc\ub4e4\uc5b4 \ubd05\uc2dc\ub2e4. \uc18c\uc218\uc810 \uc774\ud558 24\uc790\ub9ac\uac00 \uc874\uc7ac\ud558\ubbc0\ub85c, \ucd1d \uacf5\uae09 \ud544\ub4dc\uc5d0\uc11c ",(0,a.jsx)(n.code,{children:"1000"})," \ub4a4\uc5d0 24\uac1c\uc758 0\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cargo near deploy $EVENTS_FT_CONTRACT_ID with-init-call new_default_meta json-args '{\"owner_id\": \"'$EVENTS_FT_CONTRACT_ID'\", \"total_supply\": \"1000000000000000000000000000\"}' prepaid-gas '100.0 Tgas' attached-deposit '0 NEAR' network-config testnet sign-with-keychain send\n"})}),"\n",(0,a.jsx)(n.p,{children:"CLI\uc5d0\uc11c \ucd9c\ub825\uc744 \ud655\uc778\ud558\uc5ec \ubaa8\ub4e0 \uac83\uc774 \uc81c\ub300\ub85c \uc9c4\ud589\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'...\nTransaction sent ...\n--- Logs ---------------------------\nLogs [events.aha_3.testnet]:\n  EVENT_JSON:{"standard":"nep141","version":"1.0.0","event":"ft_mint","data":[{"owner_id":"events.goteam.testnet","amount":"1000000000000000000000000000","memo":"Initial token supply is minted"}]}\n--- Result -------------------------\nEmpty result\n------------------------------------\n\nContract code has been successfully deployed.\nThe "new_default_meta" call to <events.goteam.testnet> on behalf of <events.goteam.testnet> succeeded.\n...\n'})}),"\n",(0,a.jsx)(n.p,{children:"\uc774\ubca4\ud2b8\uac00 \uc81c\ub300\ub85c \uae30\ub85d\ub41c \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4!"}),"\n",(0,a.jsx)("hr",{className:"subsection"}),"\n",(0,a.jsx)(n.h3,{id:"testing",children:"\uacf5\uae09\ub7c9 \uc815\ubcf4 \ucffc\ub9ac"}),"\n",(0,a.jsx)(n.p,{children:"\uc774\uc81c view \ud568\uc218\uac00 \uc81c\ub300\ub85c \uc791\ub3d9\ud558\ub294\uc9c0 \ud14c\uc2a4\ud2b8\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uba3c\uc800 \ucd1d \uacf5\uae09\ub7c9\uc744 \ucffc\ub9ac\ud574 \ubd05\ub2c8\ub2e4."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"near contract call-function as-read-only $EVENTS_FT_CONTRACT_ID ft_total_supply json-args {} network-config testnet now\n"})}),"\n",(0,a.jsx)(n.p,{children:"\uadf8\ub7ec\uba74 \ub2e4\uc74c\uacfc \uc720\uc0ac\ud55c \ucd9c\ub825\uc774 \ubc18\ud658\ub429\ub2c8\ub2e4."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"'1000000000000000000000000000'\n"})}),"\n",(0,a.jsx)(n.p,{children:"\ub9cc\uc138! \uc774\uc81c \uc18c\uc720\uc790 \uacc4\uc815\uc758 \uc794\uace0\uac00 \uc81c\ub300\ub85c \uc791\ub3d9\ud558\ub294\uc9c0 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c \ud568\uc218\ub97c \ud638\ucd9c\ud558\uba74 \ucd1d \uacf5\uae09\ub7c9\uacfc \ub3d9\uc77c\ud55c \uc22b\uc790\ub97c \ubc18\ud658\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"near contract call-function as-read-only $EVENTS_FT_CONTRACT_ID ft_balance_of json-args '{\"account_id\": \"'$EVENTS_FT_CONTRACT_ID'\"}' network-config testnet now\n"})}),"\n",(0,a.jsx)(n.p,{children:"\ub2e4\uc74c\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"'1000000000000000000000000000'\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\ub2e4\ub978 \uacc4\uc815\uc758 \uc794\uace0\ub97c \ucffc\ub9ac\ud558\uba74 ",(0,a.jsx)(n.code,{children:"0"}),"\uc744 \ubc18\ud658\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'near contract call-function as-read-only $EVENTS_FT_CONTRACT_ID ft_balance_of json-args \'{"account_id": "benjiman.testnet"}\' network-config testnet now\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"viewing-fts-in-wallet",children:"\uc9c0\uac11\uc5d0\uc11c FT \ubcf4\uae30"}),"\n",(0,a.jsxs)(n.p,{children:["Now that your contract implements the necessary functions that the wallet uses to pickup your contract and display the FTs, you should be able to see your tokens on display in the ",(0,a.jsx)(n.a,{href:"https://testnet.mynearwallet.com/",children:"balances tab"}),"."]}),"\n",(0,a.jsx)("img",{width:"65%",src:"/docs/assets/fts/filled-fts-in-wallet.png"}),"\n",(0,a.jsxs)(n.p,{children:["\ud83c\udf89\ud83c\udf89\ud83c\udf89 ",(0,a.jsx)(n.strong,{children:"\uc774\ub294 \uad49\uc7a5\ud569\ub2c8\ub2e4! \ud654\uc774\ud305!"})," \ud83c\udf89\ud83c\udf89\ud83c\udf89\uc774\uc81c \uc9c0\uac11\uc5d0\uc11c \uccab \ubc88\uc9f8 \ub300\uccb4 \uac00\ub2a5\ud55c \ud1a0\ud070\uc744 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"\uacb0\ub860",children:"\uacb0\ub860"}),"\n",(0,a.jsxs)(n.p,{children:["\uc624\ub298 \ub2f9\uc2e0\uc740 \uc804\uccb4 \uacf5\uae09\ub7c9\uc744 \ubc1c\ud589\ud558\uae30 \uc704\ud55c \ub85c\uc9c1\uc744 \uc0b4\ud3b4\ubcf4\uace0 \ub9cc\ub4e4\uc5c8\uc2b5\ub2c8\ub2e4. \uadf8\ub7f0 \ub2e4\uc74c \uc77c\ubd80 \ud575\uc2ec \ud45c\uc900 \ub85c\uc9c1\uacfc ",(0,a.jsx)(n.a,{href:"https://nomicon.io/Standards/Tokens/FungibleToken/Event",children:"\uc774\ubca4\ud2b8 \ud45c\uc900"}),"\uc744 \uad6c\ud604\ud588\uc2b5\ub2c8\ub2e4. \ub610\ud55c, \ucd08\uae30\ud654 \uc2dc FT\ub97c ",(0,a.jsx)(n.a,{href:"#modifications-to-the-contract",children:"\ubc1c\ud589"}),"\ud558\uae30 \uc704\ud55c \uc774\ubca4\ud2b8\ub97c \uc0dd\uc131\ud588\uc2b5\ub2c8\ub2e4. \uadf8\ub7f0 \ub2e4\uc74c \ubcc0\uacbd \uc0ac\ud56d\uc744 \ubc30\ud3ec \ubc0f ",(0,a.jsx)(n.a,{href:"#testing",children:"\ud14c\uc2a4\ud2b8"}),"\ud558\uace0 \uc9c0\uac11\uc5d0\uc11c \uccab \ubc88\uc9f8 FT\ub97c \ud655\uc778\ud588\uc2b5\ub2c8\ub2e4!"]}),"\n",(0,a.jsx)(n.p,{children:"\ub2e4\uc74c \ud29c\ud1a0\ub9ac\uc5bc\uc5d0\uc11c\ub294 FT\ub97c \uc804\uc1a1\ud558\uace0 \ubc1b\uc744 \uc218 \uc788\ub3c4\ub85d \uacc4\uc815\uc744 \ub4f1\ub85d\ud558\ub294 \uae30\ubcf8 \uc0ac\ud56d\uc744 \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.admonition,{title:"Versioning for this article",type:"note",children:[(0,a.jsx)(n.p,{children:"At the time of this writing, this example works with the following versions:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["rustc: ",(0,a.jsx)(n.code,{children:"1.77.1"})]}),"\n",(0,a.jsxs)(n.li,{children:["near-sdk-rs: ",(0,a.jsx)(n.code,{children:"5.1.0"})," (with enabled ",(0,a.jsx)(n.code,{children:"legacy"})," feature)"]}),"\n",(0,a.jsxs)(n.li,{children:["cargo-near: ",(0,a.jsx)(n.code,{children:"0.6.1"})]}),"\n",(0,a.jsxs)(n.li,{children:["near-cli-rs: ",(0,a.jsx)(n.code,{children:"0.11.0"})]}),"\n"]})]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},85162:(e,n,t)=>{t.d(n,{Z:()=>i});t(67294);var a=t(36905);const r={tabItem:"tabItem_Ymn6"};var s=t(85893);function i(e){var n=e.children,t=e.hidden,i=e.className;return(0,s.jsx)("div",{role:"tabpanel",className:(0,a.Z)(r.tabItem,i),hidden:t,children:n})}},74866:(e,n,t)=>{t.d(n,{Z:()=>w});var a=t(67294),r=t(36905),s=t(12466),i=t(16550),l=t(20469),o=t(91980),c=t(67392),d=t(50012);function u(e){var n,t;return null!=(n=null==(t=a.Children.toArray(e).filter((function(e){return"\n"!==e})).map((function(e){if(!e||(0,a.isValidElement)(e)&&((n=e.props)&&"object"==typeof n&&"value"in n))return e;var n;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?n:[]}function h(e){var n=e.values,t=e.children;return(0,a.useMemo)((function(){var e=null!=n?n:function(e){return u(e).map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes,default:n.default}}))}(t);return function(e){var n=(0,c.l)(e,(function(e,n){return e.value===n.value}));if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[n,t])}function p(e){var n=e.value;return e.tabValues.some((function(e){return e.value===n}))}function f(e){var n=e.queryString,t=void 0!==n&&n,r=e.groupId,s=(0,i.k6)(),l=function(e){var n=e.queryString,t=void 0!==n&&n,a=e.groupId;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=a?a:null}({queryString:t,groupId:r});return[(0,o._X)(l),(0,a.useCallback)((function(e){if(l){var n=new URLSearchParams(s.location.search);n.set(l,e),s.replace(Object.assign({},s.location,{search:n.toString()}))}}),[l,s])]}function g(e){var n,t,r,s,i=e.defaultValue,o=e.queryString,c=void 0!==o&&o,u=e.groupId,g=h(e),x=(0,a.useState)((function(){return function(e){var n,t=e.defaultValue,a=e.tabValues;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+a.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}var r=null!=(n=a.find((function(e){return e.default})))?n:a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:i,tabValues:g})})),j=x[0],m=x[1],b=f({queryString:c,groupId:u}),v=b[0],y=b[1],w=(n=function(e){return e?"docusaurus.tab."+e:null}({groupId:u}.groupId),t=(0,d.Nk)(n),r=t[0],s=t[1],[r,(0,a.useCallback)((function(e){n&&s.set(e)}),[n,s])]),T=w[0],_=w[1],N=function(){var e=null!=v?v:T;return p({value:e,tabValues:g})?e:null}();return(0,l.Z)((function(){N&&m(N)}),[N]),{selectedValue:j,selectValue:(0,a.useCallback)((function(e){if(!p({value:e,tabValues:g}))throw new Error("Can't select invalid tab value="+e);m(e),y(e),_(e)}),[y,_,g]),tabValues:g}}var x=t(72389);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var m=t(85893);function b(e){var n=e.className,t=e.block,a=e.selectedValue,i=e.selectValue,l=e.tabValues,o=[],c=(0,s.o5)().blockElementScrollPositionUntilNextRender,d=function(e){var n=e.currentTarget,t=o.indexOf(n),r=l[t].value;r!==a&&(c(n),i(r))},u=function(e){var n,t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":var a,r=o.indexOf(e.currentTarget)+1;t=null!=(a=o[r])?a:o[0];break;case"ArrowLeft":var s,i=o.indexOf(e.currentTarget)-1;t=null!=(s=o[i])?s:o[o.length-1]}null==(n=t)||n.focus()};return(0,m.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":t},n),children:l.map((function(e){var n=e.value,t=e.label,s=e.attributes;return(0,m.jsx)("li",Object.assign({role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:function(e){return o.push(e)},onKeyDown:u,onClick:d},s,{className:(0,r.Z)("tabs__item",j.tabItem,null==s?void 0:s.className,{"tabs__item--active":a===n}),children:null!=t?t:n}),n)}))})}function v(e){var n=e.lazy,t=e.children,r=e.selectedValue,s=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){var i=s.find((function(e){return e.props.value===r}));return i?(0,a.cloneElement)(i,{className:"margin-top--md"}):null}return(0,m.jsx)("div",{className:"margin-top--md",children:s.map((function(e,n){return(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==r})}))})}function y(e){var n=g(e);return(0,m.jsxs)("div",{className:(0,r.Z)("tabs-container",j.tabList),children:[(0,m.jsx)(b,Object.assign({},n,e)),(0,m.jsx)(v,Object.assign({},n,e))]})}function w(e){var n=(0,x.Z)();return(0,m.jsx)(y,Object.assign({},e,{children:u(e.children)}),String(n))}},71183:(e,n,t)=>{t.d(n,{O2:()=>f,Ey:()=>x,SQ:()=>g});var a=t(67294),r=t(74866),s=t(85162),i=t(74165),l=t(15861),o=t(1841),c=t.n(o),d=t(85893);function u(){return(u=(0,l.Z)((0,i.Z)().mark((function e(n,t,a){var r,s,l,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((s=localStorage.getItem(n+"-until"))&&s>Date.now())){e.next=5;break}r=localStorage.getItem(n),e.next=18;break;case 5:return e.prev=5,e.next=8,fetch(n);case 8:return e.next=10,e.sent.text();case 10:r=e.sent,localStorage.setItem(n,r),localStorage.setItem(n+"-until",Date.now()+6e4),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(5),e.abrupt("return","Error fetching code, please try reloading");case 18:return l=r.split("\n"),t=t?Number(t)-1:0,a=a?Number(a):l.length,l=l.slice(t,a),o=l.reduce((function(e,n){if(0===n.length)return e;var t=n.match(/^\s+/);return t?Math.min(e,t[0].length):0}),1/0),e.abrupt("return",l.map((function(e){return e.slice(o)})).join("\n"));case 24:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}const h=function(e){var n=e.url,t=e.start,r=e.end,s=e.language,i=e.fname,l=e.metastring,o=(0,a.useState)("Loading..."),h=o[0],p=o[1];return(0,a.useEffect)((function(){var e=function(e){var n=e.slice(e.indexOf("https")).split("#"),t=n[0],a=(n[1],new URL(t).pathname.split("/").slice(1)),r=a[0],s=a[1];return a[2],"https://raw.githubusercontent.com/"+r+"/"+s+"/"+a[3]+"/"+a.slice(4).join("/")}(n),a=function(e,n,t){return u.apply(this,arguments)}(e,t,r);a.then((function(e){return p(e)}))})),(0,d.jsxs)("div",{fname:i,children:[(0,d.jsx)(c(),{language:s,metastring:l+" showLineNumbers",children:h}),(0,d.jsx)("div",{style:{fontSize:"0.9em",fontWeight:600,color:"rgb(14, 117, 221)",textAlign:"center",paddingBottom:"13px",textDecoration:"underline"},children:(0,d.jsx)("a",{href:n,target:"_blank",rel:"noreferrer noopener",children:"See full example on GitHub"})})]})};var p={rust:"\ud83e\udd80 Rust",js:"\ud83c\udf10 Javascript",ts:"\ud83c\udf10 Typescript"};function f(e){var n=e.children;return Array.isArray(n)||(n=[n]),(0,d.jsx)(r.Z,{className:"language-tabs",groupId:"code-tabs",children:n.map((function(e,n){return(0,d.jsx)(s.Z,{value:e.props.value,label:p[e.props.value],children:e})}))})}function g(e){var n=e.children,t=e.language;return Array.isArray(n)||(n=[n]),n=n.map((function(e){return function(e,n){var t=e.props,a=(t.children,t.url),r=t.start,s=t.end,i=t.fname;if(e.type===x)return x({url:a,start:r,end:s,language:n,fname:i});return e}(e,t)})),1==n.length?(0,d.jsx)(s.Z,{value:0,label:n[0].props.fname,children:n[0]}):(0,d.jsx)(r.Z,{className:"file-tabs",children:n.map((function(e,n){return(0,d.jsx)(s.Z,{value:n,label:e.props.fname,children:e})}))})}function x(e){var n=e.url,t=e.start,a=e.end,r=e.language,s=e.fname,i=e.metastring;return h({url:n,start:t,end:a,language:r,fname:s,metastring:i})}}}]);