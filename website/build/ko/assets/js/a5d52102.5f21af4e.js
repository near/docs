"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[614],{41283:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>i});var s=t(85893),c=t(11151);const l={sidebar_position:2,title:"Callbacks"},a="Callbacks",r={id:"sdk/js/cross-contract/callbacks",title:"Callbacks",description:"NEAR \ud504\ub85c\ud1a0\ucf5c\uc740 \uc791\uc5c5 \uc99d\uba85(Proof-of-Work) \ube14\ub85d\uccb4\uc778\uacfc \ub2e4\ub974\uac8c \uc791\ub3d9\ud558\ub294 \uc0e4\ub529\ub41c \uc9c0\ubd84 \uc99d\uba85(Proof-of-Stake) \ube14\ub85d\uccb4\uc778\uc785\ub2c8\ub2e4. \uae30\ubcf8 Rust(Wasm\uc73c\ub85c \ucef4\ud30c\uc77c\ub428) \uc2a4\ub9c8\ud2b8 \ucee8\ud2b8\ub799\ud2b8 \uc0c1\ud638 \uc791\uc6a9\ud560 \ub54c, \uad50\ucc28 \ucee8\ud2b8\ub799\ud2b8 \ud638\ucd9c(cross-contract call)\uc740 \ube44\ub3d9\uae30\uc2dd\uc785\ub2c8\ub2e4. \ucf5c\ubc31\uc740 \uad50\ucc28 \ucee8\ud2b8\ub799\ud2b8 \ud638\ucd9c\uc758 \uacb0\uacfc\ub97c \uac00\uc838\uc624\uac70\ub098, \uad50\ucc28 \ucee8\ud2b8\ub799\ud2b8 \ud638\ucd9c\uc774 \uc131\uacf5\ud588\ub294\uc9c0 \uc2e4\ud328\ud588\ub294\uc9c0 \uc54c\ub824\uc8fc\ub294 \ub370 \uc0ac\uc6a9\ub429\ub2c8\ub2e4.",source:"@site/i18n/ko/docusaurus-plugin-content-docs/current/sdk/js/cross-contract/callbacks.md",sourceDirName:"sdk/js/cross-contract",slug:"/sdk/js/cross-contract/callbacks",permalink:"/ko/sdk/js/cross-contract/callbacks",draft:!1,unlisted:!1,editUrl:"https://github.com/near/docs/edit/master/website/../docs/sdk/js/cross-contract/callbacks.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Callbacks"},sidebar:"tools",previous:{title:"\uc9c0\ubd88 \uba54\uc11c\ub4dc",permalink:"/ko/sdk/js/contract-interface/payable-methods"},next:{title:"Promise: \uc18c\uac1c",permalink:"/ko/sdk/js/promises/intro"}},o={},i=[{value:"\uacc4\uc0b0\uae30 \uc608\uc2dc",id:"\uacc4\uc0b0\uae30-\uc608\uc2dc",level:2},{value:"\ud5c8\uc6a9 \ubaa9\ub85d \uc608\uc2dc",id:"\ud5c8\uc6a9-\ubaa9\ub85d-\uc608\uc2dc",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"callbacks",children:"Callbacks"}),"\n",(0,s.jsx)(n.p,{children:"NEAR \ud504\ub85c\ud1a0\ucf5c\uc740 \uc791\uc5c5 \uc99d\uba85(Proof-of-Work) \ube14\ub85d\uccb4\uc778\uacfc \ub2e4\ub974\uac8c \uc791\ub3d9\ud558\ub294 \uc0e4\ub529\ub41c \uc9c0\ubd84 \uc99d\uba85(Proof-of-Stake) \ube14\ub85d\uccb4\uc778\uc785\ub2c8\ub2e4. \uae30\ubcf8 Rust(Wasm\uc73c\ub85c \ucef4\ud30c\uc77c\ub428) \uc2a4\ub9c8\ud2b8 \ucee8\ud2b8\ub799\ud2b8 \uc0c1\ud638 \uc791\uc6a9\ud560 \ub54c, \uad50\ucc28 \ucee8\ud2b8\ub799\ud2b8 \ud638\ucd9c(cross-contract call)\uc740 \ube44\ub3d9\uae30\uc2dd\uc785\ub2c8\ub2e4. \ucf5c\ubc31\uc740 \uad50\ucc28 \ucee8\ud2b8\ub799\ud2b8 \ud638\ucd9c\uc758 \uacb0\uacfc\ub97c \uac00\uc838\uc624\uac70\ub098, \uad50\ucc28 \ucee8\ud2b8\ub799\ud2b8 \ud638\ucd9c\uc774 \uc131\uacf5\ud588\ub294\uc9c0 \uc2e4\ud328\ud588\ub294\uc9c0 \uc54c\ub824\uc8fc\ub294 \ub370 \uc0ac\uc6a9\ub429\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.h2,{id:"\uacc4\uc0b0\uae30-\uc608\uc2dc",children:"\uacc4\uc0b0\uae30 \uc608\uc2dc"}),"\n",(0,s.jsxs)(n.p,{children:["\ucf5c\ubc31 \uba54\uc11c\ub4dc\ub294 ",(0,s.jsx)(n.code,{children:"call({})"})," \ub370\ucf54\ub808\uc774\ud130\ub85c \ub370\ucf54\ub808\uc774\ud2b8\ub41c \uc77c\ubc18 \uba54\uc11c\ub4dc\ub85c, \ucee8\ud2b8\ub799\ud2b8 \ud074\ub798\uc2a4\uc5d0\uc11c \uc120\uc5b8\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub370\ucf54\ub808\uc774\ud130\uc5d0 ",(0,s.jsx)(n.code,{children:"privateFunction: true"})," \uc635\uc158\uc744 \uc804\ub2ec\ud574\uc57c \ud569\ub2c8\ub2e4. \uc774\ub807\uac8c \ud558\uba74 \ucee8\ud2b8\ub799\ud2b8 \uc790\uccb4\uc5d0\uc11c\ub9cc \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.p,{children:["\uc608\ub97c \ub4e4\uc5b4 \uacc4\uc0b0\uae30\uac00 ",(0,s.jsx)(n.code,{children:"calc.near"}),"\uc5d0 \ubc30\ud3ec\ub418\uc5c8\ub2e4\uace0 \uac00\uc815\ud558\uba74, \ub2e4\uc74c\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'@NearBindgen({})\nexport class CalculatorCallerContract {\n  @call({})\n  sum_a_b({ a, b }) {\n    let calculatorAccountId = "calc.near";\n    // Call the method `sum` on the calculator contract.\n    // Any unused GAS will be attached since the default GAS weight is 1.\n    // Attached deposit is defaulted to 0.\n    return NearPromise\n            .new(calculatorAccountId)\n            .functionCall("sum", { a, b }, BigInt(0), BigInt(100000000000000));\n  }\n\n  @call({ privateFunction: true })\n  sum({ a, b })  {\n    return a + b;\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\ud5c8\uc6a9-\ubaa9\ub85d-\uc608\uc2dc",children:"\ud5c8\uc6a9 \ubaa9\ub85d \uc608\uc2dc"}),"\n",(0,s.jsx)(n.p,{children:"\ub2e4\uc74c\uc73c\ub85c \uacc4\uc815\uc774 \ubaa9\ub85d\uc5d0 \uc788\ub294\uc9c0 \uc5ec\ubd80\ub97c \ubc18\ud658\ud558\ub294 \ud5c8\uc6a9 \ubaa9\ub85d \uc2a4\ub9c8\ud2b8 \ucee8\ud2b8\ub799\ud2b8\uc5d0 \ub300\ud574, \uad50\ucc28 \ucee8\ud2b8\ub799\ud2b8 \ud638\ucd9c\uc744 \ud558\ub294 \uac04\ub2e8\ud55c \uc608\uc2dc\ub97c \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.p,{children:["\uad50\ucc28 \ucee8\ud2b8\ub799\ud2b8 \ud638\ucd9c\uc758 \uc77c\ubc18\uc801\uc778 \ud328\ud134\uc740, \uc678\ubd80 \uc2a4\ub9c8\ud2b8 \ucee8\ud2b8\ub799\ud2b8\uc5d0\uc11c \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud558\uace0, ",(0,s.jsx)(n.code,{children:".then"})," \uad6c\ubb38\uc744 \uc0ac\uc6a9\ud558\uc5ec \ucf5c\ubc31\uc744 \uc9c0\uc815\ud55c \ub2e4\uc74c Promise\uc758 \uacb0\uacfc \ub610\ub294 \uc0c1\ud0dc\ub97c \uac80\uc0c9\ud558\ub294 \uac83\uc785\ub2c8\ub2e4. \ucf5c\ubc31\uc740 \uc77c\ubc18\uc801\uc73c\ub85c \ud638\ucd9c\ud558\ub294 \uc2a4\ub9c8\ud2b8 \ucee8\ud2b8\ub799\ud2b8 \ub0b4\ubd80\uc5d0 \uc788\uc2b5\ub2c8\ub2e4. \ucf5c\ubc31 \ud568\uc218\uc5d0 \uc0ac\uc6a9\ub418\ub294 \ud2b9\uc218 \ub370\ucf54\ub808\uc774\ud130 \ub9e4\uac1c\ubcc0\uc218\ub294 ",(0,s.jsx)(n.a,{href:"https://docs.rs/near-sdk-core/latest/near_sdk_core/struct.AttrSigInfo.html#structfield.is_private",children:(0,s.jsx)(n.code,{children:"privateFunction: true"})}),"\uc785\ub2c8\ub2e4. \uc544\ub798 \uc608\uc5d0\uc11c \uc774 \ud328\ud134\uc744 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.p,{children:["\ub2e4\uc74c \uc608\uc81c\uc5d0\uc11c\ub294 ",(0,s.jsx)(n.code,{children:"NearPromise"}),"\ub97c \uc0ac\uc6a9\ud558\ub294 \ub192\uc740 \uc218\uc900\uc758 \uad50\ucc28 \ucee8\ud2b8\ub799\ud2b8 \uc811\uadfc \ubc29\uc2dd\uc744 \ud1b5\ud574, \ucf5c\ubc31\uc5d0 \ub300\ud55c \ub450 \uac00\uc9c0 \uc77c\ubc18\uc801\uc778 \uc811\uadfc \ubc29\uc2dd\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"@NearBindgen({})\nexport class ExtAllowlist {\n    // ...\n\n    @call({})\n    is_allowlisted({ staking_pool_account_id }) {\n        return this.allowlist.get(staking_pool_account_id) != null;\n    };\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\ud2b9\uc131\uc744 \uc0dd\uc131\ud55c \ud6c4, \uacc4\uc815 ",(0,s.jsx)(n.code,{children:"idea404.testnet"}),"\uc774 \ud5c8\uc6a9 \ubaa9\ub85d\uc5d0 \uc788\ub294\uc9c0 \ubb3b\ub294 \ud5c8\uc6a9 \ubaa9\ub85d \uc2a4\ub9c8\ud2b8 \ucee8\ud2b8\ub799\ud2b8\uc5d0 \ub300\ud574 \uad50\ucc28 \ucee8\ud2b8\ub799\ud2b8 \ud638\ucd9c\uc744 \ud558\ub294 \uac04\ub2e8\ud55c \ud750\ub984\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'@NearBindgen({})\nexport class Contract {\n    @call({})\n    xcc_query_allowlist() {\n        // Call the method `is_allowlisted` on the allowlisted contract. Static GAS is only attached to the callback.\n        // Any unused GAS will be split between the function call and the callback since both have a default unused GAS weight of 1\n        // Attached deposit is defaulted to 0 for both the function call and the callback.\n        return NearPromise\n            .new("allowlist.near")\n            .functionCall("is_allowlisted", { staking_pool_account_id: "idea404.testnet" }, BigInt(0), BigInt(100000000000000))\n            .then("internalCallbackMethod", {}, BigInt(0), BigInt(100000000000000));\n    }\n\n    @call({ privateFunction: true })\n    internalCallbackMethod() {\n        assert(near.promiseResultsCount() === BigInt(1), "Error: expected 1 promise result");\n        let result = JSON.parse(near.promiseResult(0));\n        return result;\n    }\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\uadf8\ub7f0 \ub2e4\uc74c \ud638\ucd9c\uc5d0 \ucca8\ubd80\ud560 \uac00\uc2a4\uc758 \uae30\ubcf8 \uc591\uc744 \uc9c0\uc815\ud558\ub294 \ub370\uc5d0 ",(0,s.jsx)(n.code,{children:"with_static_gas()"}),"\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. \uc774 \uacc4\uc815\uc5d0\uc11c \uc774 \ud504\ub85c\uadf8\ub7a8\uc5d0 \ub300\ud55c \ud6c4\uc18d \ud638\ucd9c\uc740 ",(0,s.jsx)(n.code,{children:".functionCall()"}),"\uc744 \uc0ac\uc6a9\ud558\uc5ec \ud638\ucd9c\ub429\ub2c8\ub2e4. ",(0,s.jsx)(n.code,{children:".functionCall()"})," \uba54\uc11c\ub4dc\ub294 \ub2e4\uc74c \ub9e4\uac1c \ubcc0\uc218\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"functionName"}),": \ucee8\ud2b8\ub799\ud2b8\ub97c \ud638\ucd9c\ud560 \uba54\uc11c\ub4dc\uc758 \uc774\ub984"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"args"}),": \uba54\uc11c\ub4dc\uc5d0 \uc804\ub2ec\ud560 \uc778\uc218"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"amount"}),": \ud1b5\ud654\uc5d0 \ucca8\ubd80\ud560 \u24c3\uc758 \uc591"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gas"}),": \ud638\ucd9c\uc5d0 \ucca8\ubd80\ud560 \uac00\uc2a4\uc758 \uc591"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\uc774\ub7ec\ud55c \ud568\uc218 \ud638\ucd9c\uc744 \uc218\ud589\ud560 \ub54c \uc8fc\uc758\ud574\uc57c \ud560 \uba87 \uac00\uc9c0 \uc0ac\ud56d\uc774 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"amount"})," \ub9e4\uac1c\ubcc0\uc218\ub97c \uc9c0\uc815\ud558\uc5ec \ud638\ucd9c\uc5d0 yocto\u24c3 \ub2e8\uc704\ub85c \ubcf4\uc99d\uae08 \u24c3\ub97c \ucca8\ubd80\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\uc5d0 \ub300\ud55c \uae30\ubcf8\uac12\uc740 0\uc785\ub2c8\ub2e4(1 \u24c3 = 1000000000000000000000000 yocto\u24c3 \ub610\ub294 1^24 yocto\u24c3)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gas"})," \uba54\uc11c\ub4dc\ub97c \uc9c0\uc815\ud558\uc5ec \uc77c\uc815\ub7c9\uc758 \uac00\uc2a4 \ub2e8\uc704\ub97c \ucca8\ubd80\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\uc5d0 \ub300\ud55c \uae30\ubcf8\uac12\uc740 0\uc785\ub2c8\ub2e4."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>a});var s=t(67294);const c={},l=s.createContext(c);function a(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:a(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);