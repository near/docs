"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9106],{4039:(e,n,c)=>{c.r(n),c.d(n,{assets:()=>h,contentTitle:()=>a,default:()=>x,frontMatter:()=>l,metadata:()=>d,toc:()=>o});var s=c(85893),r=c(11151),i=c(74866),t=c(85162);const l={id:"access-keys",title:"C\xe1c RPC Endpoint"},a=void 0,d={id:"api/rpc/access-keys",title:"C\xe1c RPC Endpoint",description:"V\xed d\u1ee5:",source:"@site/i18n/vi/docusaurus-plugin-content-docs/current/5.api/rpc/access-keys.md",sourceDirName:"5.api/rpc",slug:"/api/rpc/access-keys",permalink:"/vi/api/rpc/access-keys",draft:!1,unlisted:!1,editUrl:"https://github.com/near/docs/edit/master/website/../docs/5.api/rpc/access-keys.md",tags:[],version:"current",lastUpdatedBy:"Github Actions",lastUpdatedAt:1720430471e3,frontMatter:{id:"access-keys",title:"C\xe1c RPC Endpoint"},sidebar:"api",previous:{title:"C\xe0i \u0111\u1eb7t",permalink:"/vi/api/rpc/setup"},next:{title:"C\xe1c RPC Endpoint",permalink:"/vi/api/rpc/contracts"}},h={},o=[{value:"View access key",id:"view-access-key",level:2},{value:"S\u1ef1 c\u1ed1 n\xe0o c\xf3 th\u1ec3 x\u1ea3y ra?",id:"s\u1ef1-c\u1ed1-n\xe0o-c\xf3-th\u1ec3-x\u1ea3y-ra",level:4},{value:"View access key list",id:"view-access-key-list",level:2},{value:"S\u1ef1 c\u1ed1 n\xe0o c\xf3 th\u1ec3 x\u1ea3y ra?",id:"s\u1ef1-c\u1ed1-n\xe0o-c\xf3-th\u1ec3-x\u1ea3y-ra-1",level:4},{value:"C\xe1c thay \u0111\u1ed5i View access key (\u0111\u01a1n)",id:"view-access-key-changes-single",level:2},{value:"What Could Go Wrong?",id:"what-could-go-wrong-2",level:4},{value:"C\xe1c thay \u0111\u1ed5i View access key (t\u1ea5t c\u1ea3)",id:"view-access-key-changes-all",level:2},{value:"What Could Go Wrong?",id:"what-could-go-wrong-3",level:4}];function u(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components},{Details:c}=n;return c||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"view-access-key",children:"View access key"}),"\n",(0,s.jsx)(n.p,{children:"Tr\u1ea3 v\u1ec1 th\xf4ng tin m\u1ed9t single access key c\u1ee7a m\u1ed9t account \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh."}),"\n",(0,s.jsxs)(n.p,{children:["N\u1ebfu ",(0,s.jsx)(n.code,{children:"permission"})," c\u1ee7a key l\xe0 ",(0,s.jsx)(n.code,{children:"FunctionCall"}),", n\xf3 s\u1ebd tr\u1ea3 v\u1ec1 chi ti\u1ebft h\u01a1n, v\xed d\u1ee5 nh\u01b0 ",(0,s.jsx)(n.code,{children:"allowance"}),", ",(0,s.jsx)(n.code,{children:"receiver_id"}),", v\xe0 ",(0,s.jsx)(n.code,{children:"method_names"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["method: ",(0,s.jsx)(n.code,{children:"query"})]}),"\n",(0,s.jsxs)(n.li,{children:["c\xe1c param:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"request_type"}),": ",(0,s.jsx)(n.code,{children:"view_access_key"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/api/rpc/setup#using-finality-param",children:(0,s.jsx)(n.code,{children:"finality"})})," ",(0,s.jsx)(n.em,{children:"HO\u1eb6C"})," ",(0,s.jsx)(n.a,{href:"/api/rpc/setup#using-block_id-param",children:(0,s.jsx)(n.code,{children:"block_id"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"account_id"}),": ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.code,{children:'"example.testnet"'})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"public_key"}),": ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.code,{children:'"example.testnet\'s public key"'})})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(t.Z,{value:"json",label:"JSON",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": "dontcare",\n  "method": "query",\n  "params": {\n    "request_type": "view_access_key",\n    "finality": "final",\n    "account_id": "client.chainlink.testnet",\n    "public_key": "ed25519:H9k5eiU4xXS3M4z8HzKJSLaZdqGdGwBG49o7orNC4eZW"\n  }\n}\n'})})}),(0,s.jsx)(t.Z,{value:"js",label:"JavaScript",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const response = await near.connection.provider.query({\n  request_type: "view_access_key",\n  finality: "final",\n  account_id: "client.chainlink.testnet",\n  public_key: "ed25519:H9k5eiU4xXS3M4z8HzKJSLaZdqGdGwBG49o7orNC4eZW",\n});\n'})})}),(0,s.jsx)(t.Z,{value:"http",label:"HTTPie",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'http post https://rpc.testnet.near.org jsonrpc=2.0 id=dontcare method=query \\\n  params:=\'{\n    "request_type": "view_access_key",\n    "finality": "final",\n    "account_id": "client.chainlink.testnet",\n    "public_key": "ed25519:H9k5eiU4xXS3M4z8HzKJSLaZdqGdGwBG49o7orNC4eZW"\n  }\'\n'})})})]}),"\n",(0,s.jsxs)(c,{children:[(0,s.jsx)("summary",{children:"V\xed d\u1ee5 v\u1ec1 response nh\u1eadn \u0111\u01b0\u1ee3c: "}),(0,s.jsx)("p",{children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "result": {\n    "nonce": 85,\n    "permission": {\n      "FunctionCall": {\n        "allowance": "18501534631167209000000000",\n        "receiver_id": "client.chainlink.testnet",\n        "method_names": ["get_token_price"]\n      }\n    },\n    "block_height": 19884918,\n    "block_hash": "GGJQ8yjmo7aEoj8ZpAhGehnq9BSWFx4xswHYzDwwAP2n"\n  },\n  "id": "dontcare"\n}\n'})})})]}),"\n",(0,s.jsx)(n.h4,{id:"s\u1ef1-c\u1ed1-n\xe0o-c\xf3-th\u1ec3-x\u1ea3y-ra",children:"S\u1ef1 c\u1ed1 n\xe0o c\xf3 th\u1ec3 x\u1ea3y ra?"}),"\n",(0,s.jsxs)(n.p,{children:["Khi API request kh\xf4ng th\xe0nh c\xf4ng, RPC server s\u1ebd tr\u1ea3 v\u1ec1 m\u1ed9t error response \u0111\u01b0\u1ee3c c\u1ea5u tr\xfac s\u1eb5n, v\u1edbi m\u1ed9t s\u1ed1 l\u01b0\u1ee3ng gi\u1edbi h\u1ea1n c\xe1c error variant \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a r\xf5 r\xe0ng, t\u1eeb \u0111\xf3 client code c\xf3 th\u1ec3 handle to\xe0n b\u1ed9 c\xe1c error case c\xf3 th\u1ec3 x\u1ea3y ra. C\xe1c JSON-RPC error c\u1ee7a ch\xfang t\xf4i tu\xe2n theo convention ",(0,s.jsx)(n.a,{href:"https://github.com/joyent/node-verror",children:"verror"})," \u0111\u1ec3 c\u1ea5u tr\xfac cho error response:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "error": {\n        "name": <ERROR_TYPE>,\n        "cause": {\n            "info": {..},\n            "name": <ERROR_CAUSE>\n        },\n        "code": -32000,\n        "data": String,\n        "message": "Server error",\n    },\n    "id": "dontcare",\n    "jsonrpc": "2.0"\n}\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Ch\xfa \xfd"})}),"\n",(0,s.jsxs)(n.p,{children:["C\xe1c field ",(0,s.jsx)(n.code,{children:"code"}),", ",(0,s.jsx)(n.code,{children:"data"}),", v\xe0 ",(0,s.jsx)(n.code,{children:"message"})," trong structure tr\xean l\xe0 nh\u1eefng field k\u1ebf th\u1eeba t\u1eeb Verror v\xe0 c\xf3 th\u1ec3 kh\xf4ng \u0111\u01b0\u1ee3c d\xf9ng n\u1eefa trong t\u01b0\u01a1ng lai. Do \u0111\xf3 vui l\xf2ng kh\xf4ng s\u1eed d\u1ee5ng ch\xfang."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["D\u01b0\u1edbi \u0111\xe2y l\xe0 danh s\xe1ch \u0111\u1ea7y \u0111\u1ee7 c\xe1c error variant c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 theo lo\u1ea1i request ",(0,s.jsx)(n.code,{children:"view_access_key"}),":"]}),"\n",(0,s.jsxs)("table",{className:"custom-stripe",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:(0,s.jsxs)(n.p,{children:["ERROR_TYPE",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("code",{children:"error.name"})]})}),(0,s.jsxs)("th",{children:["ERROR_CAUSE",(0,s.jsx)("br",{}),(0,s.jsx)("code",{children:"error.cause.name"})]}),(0,s.jsx)("th",{children:"Nguy\xean nh\xe2n"}),(0,s.jsx)("th",{children:"Gi\u1ea3i ph\xe1p"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{rowspan:"6",children:"HANDLER_ERROR"}),(0,s.jsx)("td",{children:"UNKNOWN_BLOCK"}),(0,s.jsx)("td",{children:"Block \u0111ang \u0111\u01b0\u1ee3c request ch\u01b0a \u0111\u01b0\u1ee3c t\u1ea1o ra, ho\u1eb7c n\xf3 \u0111\xe3 \u0111\u01b0\u1ee3c garbage-collect (d\u1ecdn d\u1eb9p \u0111\u1ec3 ti\u1ebft ki\u1ec7m dung l\u01b0\u1ee3ng tr\xean node RPC)"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Ki\u1ec3m tra xem block \u0111\u01b0\u1ee3c request c\xf3 h\u1ee3p l\u1ec7 kh\xf4ng"}),(0,s.jsxs)("li",{children:["If the block had been produced more than 5 epochs ago, try to send your request to ",(0,s.jsx)("a",{href:"https://near-nodes.io/intro/node-types#archival-node",target:"_blank",rel:"noopener noreferrer",children:"an archival node"})]})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"INVALID_ACCOUNT"}),(0,s.jsxs)("td",{children:[(0,s.jsx)("code",{children:"account_id"})," \u0111\xe3 \u0111\u01b0\u1ee3c request kh\xf4ng h\u1ee3p l\u1ec7"]}),(0,s.jsx)("td",{children:(0,s.jsx)("ul",{children:(0,s.jsxs)("li",{children:["Cung c\u1ea5p m\u1ed9t ",(0,s.jsx)("code",{children:"account_id"})," h\u1ee3p l\u1ec7"]})})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"UNKNOWN_ACCOUNT"}),(0,s.jsxs)("td",{children:["Kh\xf4ng t\xecm th\u1ea5y ",(0,s.jsx)("code",{children:"account_id"})," \u0111\u01b0\u1ee3c request, do account ch\u01b0a \u0111\u01b0\u1ee3c t\u1ea1o ho\u1eb7c \u0111\xe3 b\u1ecb x\xf3a"]}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:["Ki\u1ec3m tra l\u1ea1i ",(0,s.jsx)("code",{children:"account_id"})]}),(0,s.jsx)("li",{children:"Ch\u1ec9 \u0111\u1ecbnh m\u1ed9t block kh\xe1c, ho\u1eb7c th\u1eed l\u1ea1i n\u1ebfu b\u1ea1n request state m\u1edbi nh\u1ea5t"})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"UNKNOWN_ACCESS_KEY"}),(0,s.jsxs)("td",{children:["Kh\xf4ng t\xecm th\u1ea5y ",(0,s.jsx)("code",{children:"public_key"}),", do public key ch\u01b0a \u0111\u01b0\u1ee3c t\u1ea1o ho\u1eb7c \u0111\xe3 b\u1ecb x\xf3a"]}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:["Ki\u1ec3m tra l\u1ea1i ",(0,s.jsx)("code",{children:"public_key"})]}),(0,s.jsx)("li",{children:"Ch\u1ec9 \u0111\u1ecbnh m\u1ed9t block kh\xe1c, ho\u1eb7c th\u1eed l\u1ea1i n\u1ebfu b\u1ea1n request state m\u1edbi nh\u1ea5t"})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"UNAVAILABLE_SHARD"}),(0,s.jsx)("td",{children:"Node kh\xf4ng th\u1ec3 t\xecm th\u1ea5y data \u0111\u01b0\u1ee3c request, v\xec n\xf3 kh\xf4ng track \u0111\u1ebfn shard m\xe0 d\u1eef li\u1ec7u t\u1ed3n t\u1ea1i"}),(0,s.jsx)("td",{children:(0,s.jsx)("ul",{children:(0,s.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn node kh\xe1c, node m\xe0 c\xf3 th\u1ec3 track \u0111\u1ebfn shard"})})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"NO_SYNCED_BLOCKS"}),(0,s.jsx)("td",{children:"Node v\u1eabn c\xf2n \u0111ang sync v\xe0 block \u0111\u01b0\u1ee3c request ch\u01b0a c\xf3 trong database"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Ch\u1edd \u0111\u1ebfn khi node sync xong"}),(0,s.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c \u0111\xe3 sync xong"})]})})]}),(0,s.jsxs)("tr",{className:"stripe",children:[(0,s.jsx)("td",{children:"REQUEST_VALIDATION_ERROR"}),(0,s.jsx)("td",{children:"PARSE_ERROR"}),(0,s.jsx)("td",{children:"\u0110\xe3 pass c\xe1c argument m\xe0 JSON RPC server kh\xf4ng th\u1ec3 parse \u0111\u01b0\u1ee3c (thi\u1ebfu c\xe1c argument, sai format, v.v...)"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Ki\u1ec3m tra l\u1ea1i c\xe1c argument \u0111\xe3 pass v\xe0 pass l\u1ea1i cho \u0111\xfang"}),(0,s.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,s.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft"]})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"INTERNAL_ERROR"}),(0,s.jsx)("td",{children:"INTERNAL_ERROR"}),(0,s.jsx)("td",{children:"\u0110\xe3 x\u1ea3y ra l\u1ed7i v\u1edbi ch\xednh node \u0111\xf3, ho\u1eb7c b\u1ecb overload"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"H\xe3y th\u1eed l\u1ea1i sau"}),(0,s.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c"}),(0,s.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,s.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam c\xe1c chi ti\u1ebft"]})]})})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"view-access-key-list",children:"View access key list"}),"\n",(0,s.jsxs)(n.p,{children:["You can query ",(0,s.jsx)("strong",{children:"all"})," access keys for a given account."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["method: ",(0,s.jsx)(n.code,{children:"query"})]}),"\n",(0,s.jsxs)(n.li,{children:["c\xe1c param:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"request_type"}),": ",(0,s.jsx)(n.code,{children:"view_access_key_list"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/api/rpc/setup#using-finality-param",children:(0,s.jsx)(n.code,{children:"finality"})})," ",(0,s.jsx)(n.em,{children:"HO\u1eb6C"})," ",(0,s.jsx)(n.a,{href:"/api/rpc/setup#using-block_id-param",children:(0,s.jsx)(n.code,{children:"block_id"})})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"account_id"}),": ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.code,{children:'"example.testnet"'})})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["D\u01b0\u1edbi \u0111\xe2y l\xe0 danh s\xe1ch \u0111\u1ea7y \u0111\u1ee7 c\xe1c error variant c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 theo lo\u1ea1i request ",(0,s.jsx)(n.code,{children:"view_access_key_list"}),":"]}),"\n",(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(t.Z,{value:"json",label:"JSON",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": "dontcare",\n  "method": "query",\n  "params": {\n    "request_type": "view_access_key_list",\n    "finality": "final",\n    "account_id": "example.testnet"\n  }\n}\n'})})}),(0,s.jsx)(t.Z,{value:"js",label:"JavaScript",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const response = await near.connection.provider.query({\n  request_type: "view_access_key_list",\n  finality: "final",\n  account_id: "example.testnet",\n});\n'})})}),(0,s.jsx)(t.Z,{value:"http",label:"HTTPie",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'http post https://rpc.testnet.near.org jsonrpc=2.0 id=dontcare method=query \\\n  params:=\'{\n    "request_type": "view_access_key_list",\n    "finality": "final",\n    "account_id": "example.testnet"\n  }\'\n'})})})]}),"\n",(0,s.jsxs)(c,{children:[(0,s.jsx)("summary",{children:"V\xed d\u1ee5 v\u1ec1 response nh\u1eadn \u0111\u01b0\u1ee3c: "}),(0,s.jsx)("p",{children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "result": {\n    "keys": [\n      {\n        "public_key": "ed25519:2j6qujbkPFuTstQLLTxKZUw63D5Wu3SG79Gop5JQrNJY",\n        "access_key": {\n          "nonce": 17,\n          "permission": {\n            "FunctionCall": {\n              "allowance": "9999203942481156415000",\n              "receiver_id": "place.meta",\n              "method_names": []\n            }\n          }\n        }\n      },\n      {\n        "public_key": "ed25519:46etzhzZHN4NSQ8JEQtbHCX7sT8WByS3vmSEb3fbmSgf",\n        "access_key": {\n          "nonce": 2,\n          "permission": {\n            "FunctionCall": {\n              "allowance": "9999930655034196535000",\n              "receiver_id": "dev-1596616186817-8588944",\n              "method_names": []\n            }\n          }\n        }\n      },\n      {\n        "public_key": "ed25519:4F9TwuSqWwvoyu7JVZDsupPhC7oYbYNsisBV2yQvyXFn",\n        "access_key": {\n          "nonce": 0,\n          "permission": "FullAccess"\n        }\n      },\n      {\n        "public_key": "ed25519:4bZqp6nm1btr92UfKbyADDzJ4oPK9JetHXqEYqbYZmkD",\n        "access_key": {\n          "nonce": 2,\n          "permission": "FullAccess"\n        }\n      },\n      {\n        "public_key": "ed25519:6ZPzX7hS37jiU9dRxbV1Waf8HSyKKFypJbrnZXzNhqjs",\n        "access_key": {\n          "nonce": 2,\n          "permission": {\n            "FunctionCall": {\n              "allowance": "9999922083697042955000",\n              "receiver_id": "example.testnet",\n              "method_names": []\n            }\n          }\n        }\n      },\n      {\n        "public_key": "ed25519:81RKfuo7mBbsaviTmBsq18t6Eq4YLnSi3ye2CBLcKFUX",\n        "access_key": {\n          "nonce": 8,\n          "permission": "FullAccess"\n        }\n      },\n      {\n        "public_key": "ed25519:B4W1oAYTcG8GxwKev8jQtsYWkGwGdqP24W7eZ6Fmpyzc",\n        "access_key": {\n          "nonce": 0,\n          "permission": {\n            "FunctionCall": {\n              "allowance": "10000000000000000000000",\n              "receiver_id": "dev-1594144238344",\n              "method_names": []\n            }\n          }\n        }\n      },\n      {\n        "public_key": "ed25519:BA3AZbACoEzAsxKeToFd36AVpPXFSNhSMW2R6UYeGRwM",\n        "access_key": {\n          "nonce": 0,\n          "permission": {\n            "FunctionCall": {\n              "allowance": "10000000000000000000000",\n              "receiver_id": "new-corgis",\n              "method_names": []\n            }\n          }\n        }\n      },\n      {\n        "public_key": "ed25519:BRyHUGAJjRKVTc9ZqXTTSJnFmSca8WLj8TuVe1wXK3LZ",\n        "access_key": {\n          "nonce": 17,\n          "permission": "FullAccess"\n        }\n      },\n      {\n        "public_key": "ed25519:DjytaZ1HZ5ZFmH3YeJeMCiC886K1XPYeGsbz2E1AZj2J",\n        "access_key": {\n          "nonce": 31,\n          "permission": "FullAccess"\n        }\n      },\n      {\n        "public_key": "ed25519:DqJn5UCq6vdNAvfhnbpdAeuui9a6Hv9DKYDxeRACPUDP",\n        "access_key": {\n          "nonce": 0,\n          "permission": "FullAccess"\n        }\n      },\n      {\n        "public_key": "ed25519:FFxG8x6cDDyiErFtRsdw4dBNtCmCtap4tMTjuq3umvSq",\n        "access_key": {\n          "nonce": 0,\n          "permission": "FullAccess"\n        }\n      }\n    ],\n    "block_height": 17798231,\n    "block_hash": "Gm7YSdx22wPuciW1jTTeRGP9mFqmon69ErFQvgcFyEEB"\n  },\n  "id": "dontcare"\n}\n'})})})]}),"\n",(0,s.jsx)(n.h4,{id:"s\u1ef1-c\u1ed1-n\xe0o-c\xf3-th\u1ec3-x\u1ea3y-ra-1",children:"S\u1ef1 c\u1ed1 n\xe0o c\xf3 th\u1ec3 x\u1ea3y ra?"}),"\n",(0,s.jsxs)(n.p,{children:["Khi API request kh\xf4ng th\xe0nh c\xf4ng, RPC server s\u1ebd tr\u1ea3 v\u1ec1 m\u1ed9t error response \u0111\u01b0\u1ee3c c\u1ea5u tr\xfac s\u1eb5n, v\u1edbi m\u1ed9t s\u1ed1 l\u01b0\u1ee3ng gi\u1edbi h\u1ea1n c\xe1c error variant \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a r\xf5 r\xe0ng, t\u1eeb \u0111\xf3 client code c\xf3 th\u1ec3 handle to\xe0n b\u1ed9 c\xe1c error case c\xf3 th\u1ec3 x\u1ea3y ra. C\xe1c JSON-RPC error c\u1ee7a ch\xfang t\xf4i tu\xe2n theo convention ",(0,s.jsx)(n.a,{href:"https://github.com/joyent/node-verror",children:"verror"})," \u0111\u1ec3 c\u1ea5u tr\xfac cho error response:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "error": {\n        "name": <ERROR_TYPE>,\n        "cause": {\n            "info": {..},\n            "name": <ERROR_CAUSE>\n        },\n        "code": -32000,\n        "data": String,\n        "message": "Server error",\n    },\n    "id": "dontcare",\n    "jsonrpc": "2.0"\n}\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Ch\xfa \xfd"})}),"\n",(0,s.jsxs)(n.p,{children:["C\xe1c field ",(0,s.jsx)(n.code,{children:"code"}),", ",(0,s.jsx)(n.code,{children:"data"}),", v\xe0 ",(0,s.jsx)(n.code,{children:"message"})," trong structure tr\xean l\xe0 nh\u1eefng field k\u1ebf th\u1eeba t\u1eeb Verror v\xe0 c\xf3 th\u1ec3 kh\xf4ng \u0111\u01b0\u1ee3c d\xf9ng n\u1eefa trong t\u01b0\u01a1ng lai. Do \u0111\xf3 vui l\xf2ng kh\xf4ng s\u1eed d\u1ee5ng ch\xfang."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["D\u01b0\u1edbi \u0111\xe2y l\xe0 danh s\xe1ch \u0111\u1ea7y \u0111\u1ee7 c\xe1c error variant c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 theo lo\u1ea1i request ",(0,s.jsx)(n.code,{children:"view_access_key_list"}),":"]}),"\n",(0,s.jsxs)("table",{className:"custom-stripe",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:(0,s.jsxs)(n.p,{children:["ERROR_TYPE",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("code",{children:"error.name"})]})}),(0,s.jsxs)("th",{children:["ERROR_CAUSE",(0,s.jsx)("br",{}),(0,s.jsx)("code",{children:"error.cause.name"})]}),(0,s.jsx)("th",{children:"Nguy\xean nh\xe2n"}),(0,s.jsx)("th",{children:"Gi\u1ea3i ph\xe1p"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{rowspan:"5",children:"HANDLER_ERROR"}),(0,s.jsx)("td",{children:"UNKNOWN_BLOCK"}),(0,s.jsx)("td",{children:"Block \u0111ang \u0111\u01b0\u1ee3c request ch\u01b0a \u0111\u01b0\u1ee3c t\u1ea1o ra, ho\u1eb7c n\xf3 \u0111\xe3 \u0111\u01b0\u1ee3c garbage-collect (d\u1ecdn d\u1eb9p \u0111\u1ec3 ti\u1ebft ki\u1ec7m dung l\u01b0\u1ee3ng tr\xean node RPC)"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Ki\u1ec3m tra xem block \u0111\u01b0\u1ee3c request c\xf3 h\u1ee3p l\u1ec7 kh\xf4ng"}),(0,s.jsxs)("li",{children:["If the block had been produced more than 5 epochs ago, try to send your request to ",(0,s.jsx)("a",{href:"https://near-nodes.io/intro/node-types#archival-node",target:"_blank",rel:"noopener noreferrer",children:"an archival node"})]})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"INVALID_ACCOUNT"}),(0,s.jsx)("td",{children:"Node v\u1eabn c\xf2n \u0111ang sync v\xe0 block \u0111\u01b0\u1ee3c request ch\u01b0a c\xf3 trong database"}),(0,s.jsx)("td",{children:(0,s.jsx)("ul",{children:(0,s.jsxs)("li",{children:["Cung c\u1ea5p m\u1ed9t ",(0,s.jsx)("code",{children:"account_id"})," h\u1ee3p l\u1ec7"]})})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"UNKNOWN_ACCOUNT"}),(0,s.jsxs)("td",{children:["Kh\xf4ng t\xecm th\u1ea5y ",(0,s.jsx)("code",{children:"account_id"})," \u0111\u01b0\u1ee3c request, do account ch\u01b0a \u0111\u01b0\u1ee3c t\u1ea1o ho\u1eb7c \u0111\xe3 b\u1ecb x\xf3a"]}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:["Ki\u1ec3m tra l\u1ea1i ",(0,s.jsx)("code",{children:"account_id"})]}),(0,s.jsx)("li",{children:"Ch\u1ec9 \u0111\u1ecbnh m\u1ed9t block kh\xe1c, ho\u1eb7c th\u1eed l\u1ea1i n\u1ebfu b\u1ea1n \u0111ang request state m\u1edbi nh\u1ea5t"})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"UNAVAILABLE_SHARD"}),(0,s.jsx)("td",{children:"Node kh\xf4ng th\u1ec3 t\xecm th\u1ea5y data \u0111\u01b0\u1ee3c request, v\xec n\xf3 kh\xf4ng track \u0111\u1ebfn shard m\xe0 d\u1eef li\u1ec7u t\u1ed3n t\u1ea1i"}),(0,s.jsx)("td",{children:(0,s.jsx)("ul",{children:(0,s.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn node kh\xe1c, node m\xe0 c\xf3 th\u1ec3 track \u0111\u1ebfn shard"})})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"NO_SYNCED_BLOCKS"}),(0,s.jsx)("td",{children:"Node v\u1eabn c\xf2n \u0111ang sync v\xe0 block \u0111\u01b0\u1ee3c request ch\u01b0a c\xf3 trong database"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Ch\u1edd \u0111\u1ebfn khi node sync xong"}),(0,s.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c \u0111\xe3 sync xong"})]})})]}),(0,s.jsxs)("tr",{className:"stripe",children:[(0,s.jsx)("td",{children:"REQUEST_VALIDATION_ERROR"}),(0,s.jsx)("td",{children:"PARSE_ERROR"}),(0,s.jsx)("td",{children:"\u0110\xe3 pass c\xe1c argument m\xe0 JSON RPC server kh\xf4ng th\u1ec3 parse \u0111\u01b0\u1ee3c (thi\u1ebfu c\xe1c argument, sai format, v.v...)"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Ki\u1ec3m tra l\u1ea1i c\xe1c argument \u0111\xe3 pass v\xe0 pass l\u1ea1i cho \u0111\xfang"}),(0,s.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,s.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft"]})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"INTERNAL_ERROR"}),(0,s.jsx)("td",{children:"INTERNAL_ERROR"}),(0,s.jsx)("td",{children:"\u0110\xe3 x\u1ea3y ra l\u1ed7i v\u1edbi ch\xednh node \u0111\xf3, ho\u1eb7c b\u1ecb overload"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"H\xe3y th\u1eed l\u1ea1i sau"}),(0,s.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c"}),(0,s.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,s.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft"]})]})})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"view-access-key-changes-single",children:"C\xe1c thay \u0111\u1ed5i View access key (\u0111\u01a1n)"}),"\n",(0,s.jsxs)(n.p,{children:["Tr\u1ea3 v\u1ec1 c\xe1c thay \u0111\u1ed5i ri\xeang l\u1ebb c\u1ee7a access key trong m\u1ed9t block c\u1ee5 th\u1ec3. B\u1ea1n c\xf3 th\u1ec3 query nhi\u1ec1u key b\u1eb1ng c\xe1ch pass m\u1ed9t array c\xe1c object c\xf3 ch\u1ee9a ",(0,s.jsx)(n.code,{children:"account_id"})," v\xe0 ",(0,s.jsx)(n.code,{children:"public_key"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["method: ",(0,s.jsx)(n.code,{children:"EXPERIMENTAL_changes"})]}),"\n",(0,s.jsxs)(n.li,{children:["c\xe1c param:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"changes_type"}),": ",(0,s.jsx)(n.code,{children:"single_access_key_changes"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"keys"}),": ",(0,s.jsx)(n.code,{children:"[{ account_id, public_key }]"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/api/rpc/setup#using-finality-param",children:(0,s.jsx)(n.code,{children:"finality"})})," ",(0,s.jsx)(n.em,{children:"HO\u1eb6C"})," ",(0,s.jsx)(n.a,{href:"/api/rpc/setup#using-block_id-param",children:(0,s.jsx)(n.code,{children:"block_id"})})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(t.Z,{value:"json",label:"JSON",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": "dontcare",\n  "method": "EXPERIMENTAL_changes",\n  "params": {\n    "changes_type": "single_access_key_changes",\n    "keys": [\n      {\n        "account_id": "example-acct.testnet",\n        "public_key": "ed25519:25KEc7t7MQohAJ4EDThd2vkksKkwangnuJFzcoiXj9oM"\n      }\n    ],\n    "finality": "final"\n  }\n}\n'})})}),(0,s.jsx)(t.Z,{value:"js",label:"JavaScript",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const response = await near.connection.provider.experimental_changes({\n  changes_type: "single_access_key_changes",\n  keys: [\n    {\n      account_id: "example-acct.testnet",\n      public_key: "ed25519:25KEc7t7MQohAJ4EDThd2vkksKkwangnuJFzcoiXj9oM",\n    },\n  ],\n  finality: "final",\n});\n'})})}),(0,s.jsx)(t.Z,{value:"http",label:"HTTPie",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'http post https://rpc.testnet.near.org jsonrpc=2.0 id=dontcare method=EXPERIMENTAL_changes \\\n  params:=\'{\n    "changes_type": "single_access_key_changes",\n    "keys": [\n      {\n        "account_id": "example-acct.testnet",\n        "public_key": "ed25519:25KEc7t7MQohAJ4EDThd2vkksKkwangnuJFzcoiXj9oM"\n      }\n    ],\n    "finality": "final"\n  }\'\n'})})})]}),"\n",(0,s.jsxs)(c,{children:[(0,s.jsx)("summary",{children:"V\xed d\u1ee5 v\u1ec1 response nh\u1eadn \u0111\u01b0\u1ee3c: "}),(0,s.jsx)("p",{children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "result": {\n    "block_hash": "4kvqE1PsA6ic1LG7S5SqymSEhvjqGqumKjAxnVdNN3ZH",\n    "changes": [\n      {\n        "cause": {\n          "type": "transaction_processing",\n          "tx_hash": "HshPyqddLxsganFxHHeH9LtkGekXDCuAt6axVgJLboXV"\n        },\n        "type": "access_key_update",\n        "change": {\n          "account_id": "example-acct.testnet",\n          "public_key": "ed25519:25KEc7t7MQohAJ4EDThd2vkksKkwangnuJFzcoiXj9oM",\n          "access_key": {\n            "nonce": 1,\n            "permission": "FullAccess"\n          }\n        }\n      }\n    ]\n  },\n  "id": "dontcare"\n}\n'})})})]}),"\n",(0,s.jsx)(n.h4,{id:"what-could-go-wrong-2",children:"What Could Go Wrong?"}),"\n",(0,s.jsxs)(n.p,{children:["Khi API request kh\xf4ng th\xe0nh c\xf4ng, RPC server s\u1ebd tr\u1ea3 v\u1ec1 m\u1ed9t error response \u0111\u01b0\u1ee3c c\u1ea5u tr\xfac s\u1eb5n, v\u1edbi m\u1ed9t s\u1ed1 l\u01b0\u1ee3ng gi\u1edbi h\u1ea1n c\xe1c error variant \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a r\xf5 r\xe0ng, t\u1eeb \u0111\xf3 client code c\xf3 th\u1ec3 handle to\xe0n b\u1ed9 c\xe1c error case c\xf3 th\u1ec3 x\u1ea3y ra. C\xe1c JSON-RPC error c\u1ee7a ch\xfang t\xf4i tu\xe2n theo convention ",(0,s.jsx)(n.a,{href:"https://github.com/joyent/node-verror",children:"verror"})," \u0111\u1ec3 c\u1ea5u tr\xfac cho error response:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "error": {\n        "name": <ERROR_TYPE>,\n        "cause": {\n            "info": {..},\n            "name": <ERROR_CAUSE>\n        },\n        "code": -32000,\n        "data": String,\n        "message": "Server error",\n    },\n    "id": "dontcare",\n    "jsonrpc": "2.0"\n}\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Ch\xfa \xfd"})}),"\n",(0,s.jsxs)(n.p,{children:["C\xe1c field ",(0,s.jsx)(n.code,{children:"code"}),", ",(0,s.jsx)(n.code,{children:"data"}),", v\xe0 ",(0,s.jsx)(n.code,{children:"message"})," trong structure tr\xean l\xe0 nh\u1eefng field k\u1ebf th\u1eeba t\u1eeb Verror v\xe0 c\xf3 th\u1ec3 kh\xf4ng \u0111\u01b0\u1ee3c d\xf9ng n\u1eefa trong t\u01b0\u01a1ng lai. Do \u0111\xf3 vui l\xf2ng kh\xf4ng s\u1eed d\u1ee5ng ch\xfang."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["D\u01b0\u1edbi \u0111\xe2y l\xe0 danh s\xe1ch \u0111\u1ea7y \u0111\u1ee7 c\xe1c error variant c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 b\u1edfi method ",(0,s.jsx)(n.code,{children:"EXPERIMENTAL_changes"}),":"]}),"\n",(0,s.jsxs)("table",{className:"custom-stripe",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:(0,s.jsxs)(n.p,{children:["ERROR_TYPE",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("code",{children:"error.name"})]})}),(0,s.jsxs)("th",{children:["ERROR_CAUSE",(0,s.jsx)("br",{}),(0,s.jsx)("code",{children:"error.cause.name"})]}),(0,s.jsx)("th",{children:"Nguy\xean nh\xe2n"}),(0,s.jsx)("th",{children:"Gi\u1ea3i ph\xe1p"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{rowspan:"2",children:"HANDLER_ERROR"}),(0,s.jsx)("td",{children:"UNKNOWN_BLOCK"}),(0,s.jsx)("td",{children:"Block \u0111ang \u0111\u01b0\u1ee3c request ch\u01b0a \u0111\u01b0\u1ee3c t\u1ea1o ra, ho\u1eb7c n\xf3 \u0111\xe3 \u0111\u01b0\u1ee3c garbage-collect (d\u1ecdn d\u1eb9p \u0111\u1ec3 ti\u1ebft ki\u1ec7m dung l\u01b0\u1ee3ng tr\xean node RPC)"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Ki\u1ec3m tra xem block \u0111\u01b0\u1ee3c request c\xf3 h\u1ee3p l\u1ec7 kh\xf4ng"}),(0,s.jsxs)("li",{children:["If the block had been produced more than 5 epochs ago, try to send your request to ",(0,s.jsx)("a",{href:"https://near-nodes.io/intro/node-types#archival-node",target:"_blank",rel:"noopener noreferrer",children:"an archival node"})]})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"NOT_SYNCED_YET"}),(0,s.jsx)("td",{children:"Node v\u1eabn c\xf2n \u0111ang sync v\xe0 block \u0111\u01b0\u1ee3c request ch\u01b0a c\xf3 trong database"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Ch\u1edd \u0111\u1ebfn khi node sync xong"}),(0,s.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c \u0111\xe3 sync xong"})]})})]}),(0,s.jsxs)("tr",{className:"stripe",children:[(0,s.jsx)("td",{children:"REQUEST_VALIDATION_ERROR"}),(0,s.jsx)("td",{children:"PARSE_ERROR"}),(0,s.jsx)("td",{children:"\u0110\xe3 pass c\xe1c argument m\xe0 JSON RPC server kh\xf4ng th\u1ec3 parse \u0111\u01b0\u1ee3c (thi\u1ebfu c\xe1c argument, sai format, v.v...)"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Ki\u1ec3m tra l\u1ea1i c\xe1c argument \u0111\xe3 pass v\xe0 pass l\u1ea1i cho \u0111\xfang"}),(0,s.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,s.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft"]})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"INTERNAL_ERROR"}),(0,s.jsx)("td",{children:"INTERNAL_ERROR"}),(0,s.jsx)("td",{children:"\u0110\xe3 x\u1ea3y ra l\u1ed7i v\u1edbi ch\xednh node \u0111\xf3, ho\u1eb7c b\u1ecb overload"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"H\xe3y th\u1eed l\u1ea1i sau"}),(0,s.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c"}),(0,s.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,s.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft"]})]})})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"view-access-key-changes-all",children:"C\xe1c thay \u0111\u1ed5i View access key (t\u1ea5t c\u1ea3)"}),"\n",(0,s.jsxs)(n.p,{children:["Tr\u1ea3 v\u1ec1 c\xe1c thay \u0111\u1ed5i \u0111\u1ebfn ",(0,s.jsx)("strong",{children:"t\u1ea5t c\u1ea3"})," c\xe1c access key c\u1ee7a m\u1ed9t block \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh. C\xf3 th\u1ec3 query nhi\u1ec1u t\xe0i kho\u1ea3n b\u1eb1ng c\xe1ch pass m\u1ed9t array c\u1ee7a ",(0,s.jsx)(n.code,{children:"account_ids"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["method: ",(0,s.jsx)(n.code,{children:"EXPERIMENTAL_changes"})]}),"\n",(0,s.jsxs)(n.li,{children:["c\xe1c param:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"changes_type"}),": ",(0,s.jsx)(n.code,{children:"all_access_key_changes"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"account_ids"}),": ",(0,s.jsx)(n.code,{children:'[ "example.testnet", "example2.testnet"]'})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/api/rpc/setup#using-finality-param",children:(0,s.jsx)(n.code,{children:"finality"})})," ",(0,s.jsx)(n.em,{children:"HO\u1eb6C"})," ",(0,s.jsx)(n.a,{href:"/api/rpc/setup#using-block_id-param",children:(0,s.jsx)(n.code,{children:"block_id"})})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["D\u01b0\u1edbi \u0111\xe2y l\xe0 danh s\xe1ch \u0111\u1ea7y \u0111\u1ee7 c\xe1c error variant c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 theo lo\u1ea1i request ",(0,s.jsx)(n.code,{children:"view_access_key_list"}),":"]}),"\n",(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(t.Z,{value:"json",label:"JSON",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": "dontcare",\n  "method": "EXPERIMENTAL_changes",\n  "params": {\n    "changes_type": "all_access_key_changes",\n    "account_ids": ["example-acct.testnet"],\n    "block_id": "4kvqE1PsA6ic1LG7S5SqymSEhvjqGqumKjAxnVdNN3ZH"\n  }\n}\n'})})}),(0,s.jsx)(t.Z,{value:"js",label:"JavaScript",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const response = await near.connection.provider.experimental_changes({\n  changes_type: "all_access_key_changes",\n  account_ids: "example-acct.testnet",\n  finality: "final",\n});\n'})})}),(0,s.jsx)(t.Z,{value:"http",label:"HTTPie",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'http post https://rpc.testnet.near.org jsonrpc=2.0 id=dontcare method=EXPERIMENTAL_changes \\\n  params:=\'{\n    "changes_type": "all_access_key_changes",\n    "account_ids": ["example-acct.testnet"],\n    "block_id": "4kvqE1PsA6ic1LG7S5SqymSEhvjqGqumKjAxnVdNN3ZH"\n  }\'\n'})})})]}),"\n",(0,s.jsxs)(c,{children:[(0,s.jsxs)("summary",{children:["C\xe1c k\u1ebft qu\u1ea3 cu\u1ed1i c\xf9ng c\u1ee7a transaction c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c query qua ",(0,s.jsx)("a",{href:"/api/rpc/transactions#transaction-status",children:"Transaction Status"})," ho\u1eb7c ",(0,s.jsx)("a",{href:"https://explorer.testnet.near.org/",children:"NEAR Explorer"})," b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng ",(0,s.jsx)("code",{children:"k\u1ebft qu\u1ea3"})," hash \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 nh\u01b0 v\xed d\u1ee5 sau \u0111\xe2y. "]}),(0,s.jsx)("p",{children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "result": {\n    "block_hash": "4kvqE1PsA6ic1LG7S5SqymSEhvjqGqumKjAxnVdNN3ZH",\n    "changes": [\n      {\n        "cause": {\n          "type": "transaction_processing",\n          "tx_hash": "HshPyqddLxsganFxHHeH9LtkGekXDCuAt6axVgJLboXV"\n        },\n        "type": "access_key_update",\n        "change": {\n          "account_id": "example-acct.testnet",\n          "public_key": "ed25519:25KEc7t7MQohAJ4EDThd2vkksKkwangnuJFzcoiXj9oM",\n          "access_key": {\n            "nonce": 1,\n            "permission": "FullAccess"\n          }\n        }\n      },\n      {\n        "cause": {\n          "type": "receipt_processing",\n          "receipt_hash": "CetXstu7bdqyUyweRqpY9op5U1Kqzd8pq8T1kqfcgBv2"\n        },\n        "type": "access_key_update",\n        "change": {\n          "account_id": "example-acct.testnet",\n          "public_key": "ed25519:96pj2aVJH9njmAxakjvUMnNvdB3YUeSAMjbz9aRNU6XY",\n          "access_key": {\n            "nonce": 0,\n            "permission": "FullAccess"\n          }\n        }\n      }\n    ]\n  },\n  "id": "dontcare"\n}\n'})})})]}),"\n",(0,s.jsx)(n.h4,{id:"what-could-go-wrong-3",children:"What Could Go Wrong?"}),"\n",(0,s.jsxs)(n.p,{children:["Khi API request kh\xf4ng th\xe0nh c\xf4ng, RPC server s\u1ebd tr\u1ea3 v\u1ec1 m\u1ed9t error response \u0111\u01b0\u1ee3c c\u1ea5u tr\xfac s\u1eb5n, v\u1edbi m\u1ed9t s\u1ed1 l\u01b0\u1ee3ng gi\u1edbi h\u1ea1n c\xe1c error variant \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a r\xf5 r\xe0ng, t\u1eeb \u0111\xf3 client code c\xf3 th\u1ec3 handle to\xe0n b\u1ed9 c\xe1c error case c\xf3 th\u1ec3 x\u1ea3y ra. C\xe1c JSON-RPC error c\u1ee7a ch\xfang t\xf4i tu\xe2n theo convention ",(0,s.jsx)(n.a,{href:"https://github.com/joyent/node-verror",children:"verror"})," \u0111\u1ec3 c\u1ea5u tr\xfac cho error response:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "error": {\n        "name": <ERROR_TYPE>,\n        "cause": {\n            "info": {..},\n            "name": <ERROR_CAUSE>\n        },\n        "code": -32000,\n        "data": String,\n        "message": "Server error",\n    },\n    "id": "dontcare",\n    "jsonrpc": "2.0"\n}\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Ch\xfa \xfd"})}),"\n",(0,s.jsxs)(n.p,{children:["C\xe1c field ",(0,s.jsx)(n.code,{children:"code"}),", ",(0,s.jsx)(n.code,{children:"data"}),", v\xe0 ",(0,s.jsx)(n.code,{children:"message"})," trong structure tr\xean l\xe0 nh\u1eefng field k\u1ebf th\u1eeba t\u1eeb Verror v\xe0 c\xf3 th\u1ec3 kh\xf4ng \u0111\u01b0\u1ee3c d\xf9ng n\u1eefa trong t\u01b0\u01a1ng lai. Do \u0111\xf3 vui l\xf2ng kh\xf4ng s\u1eed d\u1ee5ng ch\xfang."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"V\xed d\u1ee5:"}),"\n",(0,s.jsxs)("table",{className:"custom-stripe",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:(0,s.jsxs)(n.p,{children:["ERROR_TYPE",(0,s.jsx)("br",{}),"\n",(0,s.jsx)("code",{children:"error.name"})]})}),(0,s.jsxs)("th",{children:["ERROR_CAUSE",(0,s.jsx)("br",{}),(0,s.jsx)("code",{children:"error.cause.name"})]}),(0,s.jsx)("th",{children:"Nguy\xean nh\xe2n"}),(0,s.jsx)("th",{children:"Gi\u1ea3i ph\xe1p"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{rowspan:"2",children:"HANDLER_ERROR"}),(0,s.jsx)("td",{children:"UNKNOWN_BLOCK"}),(0,s.jsx)("td",{children:"Block \u0111ang \u0111\u01b0\u1ee3c request ch\u01b0a \u0111\u01b0\u1ee3c t\u1ea1o ra, ho\u1eb7c n\xf3 \u0111\xe3 \u0111\u01b0\u1ee3c garbage-collect (d\u1ecdn d\u1eb9p \u0111\u1ec3 ti\u1ebft ki\u1ec7m dung l\u01b0\u1ee3ng tr\xean node RPC)"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Ki\u1ec3m tra xem block \u0111\u01b0\u1ee3c request c\xf3 h\u1ee3p l\u1ec7 kh\xf4ng"}),(0,s.jsxs)("li",{children:["If the block had been produced more than 5 epochs ago, try to send your request to ",(0,s.jsx)("a",{href:"https://near-nodes.io/intro/node-types#archival-node",target:"_blank",rel:"noopener noreferrer",children:"an archival node"})]})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"NOT_SYNCED_YET"}),(0,s.jsx)("td",{children:"Node v\u1eabn c\xf2n \u0111ang sync v\xe0 block \u0111\u01b0\u1ee3c request ch\u01b0a c\xf3 trong database"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Ch\u1edd \u0111\u1ebfn khi node sync xong"}),(0,s.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c \u0111\xe3 sync xong"})]})})]}),(0,s.jsxs)("tr",{className:"stripe",children:[(0,s.jsx)("td",{children:"REQUEST_VALIDATION_ERROR"}),(0,s.jsx)("td",{children:"PARSE_ERROR"}),(0,s.jsx)("td",{children:"\u0110\xe3 pass c\xe1c argument m\xe0 JSON RPC server kh\xf4ng th\u1ec3 parse \u0111\u01b0\u1ee3c (thi\u1ebfu c\xe1c argument, sai format, v.v...)"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Ki\u1ec3m tra l\u1ea1i c\xe1c argument \u0111\xe3 pass v\xe0 pass l\u1ea1i cho \u0111\xfang"}),(0,s.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,s.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft"]})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"INTERNAL_ERROR"}),(0,s.jsx)("td",{children:"INTERNAL_ERROR"}),(0,s.jsx)("td",{children:"\u0110\xe3 x\u1ea3y ra l\u1ed7i v\u1edbi ch\xednh node \u0111\xf3, ho\u1eb7c b\u1ecb overload"}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"H\xe3y th\u1eed l\u1ea1i sau"}),(0,s.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c"}),(0,s.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,s.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft"]})]})})]})]})]}),"\n",(0,s.jsx)(n.hr,{})]})}function x(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},85162:(e,n,c)=>{c.d(n,{Z:()=>t});c(67294);var s=c(36905);const r={tabItem:"tabItem_Ymn6"};var i=c(85893);function t(e){var n=e.children,c=e.hidden,t=e.className;return(0,i.jsx)("div",{role:"tabpanel",className:(0,s.Z)(r.tabItem,t),hidden:c,children:n})}},74866:(e,n,c)=>{c.d(n,{Z:()=>b});var s=c(67294),r=c(36905),i=c(12466),t=c(16550),l=c(20469),a=c(91980),d=c(67392),h=c(50012);function o(e){var n,c;return null!=(n=null==(c=s.Children.toArray(e).filter((function(e){return"\n"!==e})).map((function(e){if(!e||(0,s.isValidElement)(e)&&((n=e.props)&&"object"==typeof n&&"value"in n))return e;var n;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:c.filter(Boolean))?n:[]}function u(e){var n=e.values,c=e.children;return(0,s.useMemo)((function(){var e=null!=n?n:function(e){return o(e).map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes,default:n.default}}))}(c);return function(e){var n=(0,d.l)(e,(function(e,n){return e.value===n.value}));if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[n,c])}function x(e){var n=e.value;return e.tabValues.some((function(e){return e.value===n}))}function j(e){var n=e.queryString,c=void 0!==n&&n,r=e.groupId,i=(0,t.k6)(),l=function(e){var n=e.queryString,c=void 0!==n&&n,s=e.groupId;if("string"==typeof c)return c;if(!1===c)return null;if(!0===c&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=s?s:null}({queryString:c,groupId:r});return[(0,a._X)(l),(0,s.useCallback)((function(e){if(l){var n=new URLSearchParams(i.location.search);n.set(l,e),i.replace(Object.assign({},i.location,{search:n.toString()}))}}),[l,i])]}function p(e){var n,c,r,i,t=e.defaultValue,a=e.queryString,d=void 0!==a&&a,o=e.groupId,p=u(e),m=(0,s.useState)((function(){return function(e){var n,c=e.defaultValue,s=e.tabValues;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(c){if(!x({value:c,tabValues:s}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+c+'" but none of its children has the corresponding value. Available values are: '+s.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return c}var r=null!=(n=s.find((function(e){return e.default})))?n:s[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:p})})),g=m[0],y=m[1],v=j({queryString:d,groupId:o}),_=v[0],k=v[1],b=(n=function(e){return e?"docusaurus.tab."+e:null}({groupId:o}.groupId),c=(0,h.Nk)(n),r=c[0],i=c[1],[r,(0,s.useCallback)((function(e){n&&i.set(e)}),[n,i])]),f=b[0],R=b[1],E=function(){var e=null!=_?_:f;return x({value:e,tabValues:p})?e:null}();return(0,l.Z)((function(){E&&y(E)}),[E]),{selectedValue:g,selectValue:(0,s.useCallback)((function(e){if(!x({value:e,tabValues:p}))throw new Error("Can't select invalid tab value="+e);y(e),k(e),R(e)}),[k,R,p]),tabValues:p}}var m=c(72389);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=c(85893);function v(e){var n=e.className,c=e.block,s=e.selectedValue,t=e.selectValue,l=e.tabValues,a=[],d=(0,i.o5)().blockElementScrollPositionUntilNextRender,h=function(e){var n=e.currentTarget,c=a.indexOf(n),r=l[c].value;r!==s&&(d(n),t(r))},o=function(e){var n,c=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":var s,r=a.indexOf(e.currentTarget)+1;c=null!=(s=a[r])?s:a[0];break;case"ArrowLeft":var i,t=a.indexOf(e.currentTarget)-1;c=null!=(i=a[t])?i:a[a.length-1]}null==(n=c)||n.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":c},n),children:l.map((function(e){var n=e.value,c=e.label,i=e.attributes;return(0,y.jsx)("li",Object.assign({role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:function(e){return a.push(e)},onKeyDown:o,onClick:h},i,{className:(0,r.Z)("tabs__item",g.tabItem,null==i?void 0:i.className,{"tabs__item--active":s===n}),children:null!=c?c:n}),n)}))})}function _(e){var n=e.lazy,c=e.children,r=e.selectedValue,i=(Array.isArray(c)?c:[c]).filter(Boolean);if(n){var t=i.find((function(e){return e.props.value===r}));return t?(0,s.cloneElement)(t,{className:"margin-top--md"}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:i.map((function(e,n){return(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==r})}))})}function k(e){var n=p(e);return(0,y.jsxs)("div",{className:(0,r.Z)("tabs-container",g.tabList),children:[(0,y.jsx)(v,Object.assign({},n,e)),(0,y.jsx)(_,Object.assign({},n,e))]})}function b(e){var n=(0,m.Z)();return(0,y.jsx)(k,Object.assign({},e,{children:o(e.children)}),String(n))}},11151:(e,n,c)=>{c.d(n,{Z:()=>l,a:()=>t});var s=c(67294);const r={},i=s.createContext(r);function t(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);