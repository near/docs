"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9625],{81507:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>h,contentTitle:()=>l,default:()=>j,frontMatter:()=>a,metadata:()=>d,toc:()=>o});var c=r(85893),s=r(11151),t=r(74866),i=r(85162);const a={id:"block-chunk",title:"Block / Chunk"},l=void 0,d={id:"api/rpc/block-chunk",title:"Block / Chunk",description:"L\u01b0u \xfd: B\u1ea1n c\xf3 th\u1ec3 ch\u1ecdn search theo m\u1ed9t block c\u1ee5 th\u1ec3 ho\u1eb7c finality, ch\u1ee9 kh\xf4ng th\u1ec3 ch\u1ecdn c\u1ea3 hai.",source:"@site/i18n/vi/docusaurus-plugin-content-docs/current/5.api/rpc/block-chunk.md",sourceDirName:"5.api/rpc",slug:"/api/rpc/block-chunk",permalink:"/vi/api/rpc/block-chunk",draft:!1,unlisted:!1,editUrl:"https://github.com/near/docs/edit/master/website/../docs/5.api/rpc/block-chunk.md",tags:[],version:"current",lastUpdatedBy:"Github Actions",lastUpdatedAt:1709152665e3,frontMatter:{id:"block-chunk",title:"Block / Chunk"},sidebar:"api",previous:{title:"C\xe1c RPC Endpoint",permalink:"/vi/api/rpc/contracts"},next:{title:"Gas",permalink:"/vi/api/rpc/gas"}},h={},o=[{value:"C\xe1c chi ti\u1ebft v\u1ec1 block",id:"block-details",level:2},{value:"S\u1ef1 c\u1ed1 n\xe0o c\xf3 th\u1ec3 x\u1ea3y ra?",id:"what-could-go-wrong",level:4},{value:"C\xe1c thay \u0111\u1ed5i trong Block",id:"changes-in-block",level:2},{value:"S\u1ef1 c\u1ed1 n\xe0o c\xf3 th\u1ec3 x\u1ea3y ra?",id:"what-could-go-wrong-1",level:4},{value:"C\xe1c chi ti\u1ebft Chunk",id:"chunk-details",level:2},{value:"S\u1ef1 c\u1ed1 n\xe0o c\xf3 th\u1ec3 x\u1ea3y ra?",id:"what-could-go-wrong-2",level:4}];function u(n){const e={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...n.components},{Details:r}=e;return r||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"L\u01b0u \xfd"}),": B\u1ea1n c\xf3 th\u1ec3 ch\u1ecdn search theo m\u1ed9t block c\u1ee5 th\u1ec3 ",(0,c.jsx)(e.em,{children:"ho\u1eb7c"})," finality, ch\u1ee9 kh\xf4ng th\u1ec3 ch\u1ecdn c\u1ea3 hai."]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"block-details",children:"C\xe1c chi ti\u1ebft v\u1ec1 block"}),"\n",(0,c.jsxs)(e.blockquote,{children:["\n",(0,c.jsxs)(e.p,{children:["Query network v\xe0 tr\u1ea3 v\u1ec1 block t\u01b0\u01a1ng \u1ee9ng v\u1edbi height ho\u1eb7c hash \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh. B\u1ea1n c\u0169ng c\xf3 th\u1ec3 s\u1eed d\u1ee5ng param ",(0,c.jsx)(e.code,{children:"finality"})," \u0111\u1ec3 tr\u1ea3 v\u1ec1 c\xe1c chi ti\u1ebft c\u1ee7a block m\u1edbi nh\u1ea5t."]}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["v\xed d\u1ee5 cho ",(0,c.jsx)(e.code,{children:"finality"}),":"]}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["method: ",(0,c.jsx)(e.code,{children:"block"})]}),"\n",(0,c.jsxs)(e.li,{children:["c\xe1c param:","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.a,{href:"/docs/api/rpc#using-finality-param",children:(0,c.jsx)(e.code,{children:"finality"})})," ",(0,c.jsx)(e.em,{children:"HO\u1eb6C"})," ",(0,c.jsx)(e.a,{href:"/docs/api/rpc#using-block_id-param",children:(0,c.jsx)(e.code,{children:"block_id"})})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["v\xed d\u1ee5 cho ",(0,c.jsx)(e.code,{children:"finality"}),":"]}),"\n",(0,c.jsxs)(t.Z,{children:[(0,c.jsx)(i.Z,{value:"json",label:"JSON",default:!0,children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": "dontcare",\n  "method": "block",\n  "params": {\n    "finality": "final"\n  }\n}\n'})})}),(0,c.jsx)(i.Z,{value:"\ud83c\udf10 JavaScript",label:"JavaScript",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-js",children:'const response = await near.connection.provider.block({\n  finality: "final",\n});\n'})})}),(0,c.jsx)(i.Z,{value:"http",label:"HTTPie",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'http post https://rpc.testnet.near.org jsonrpc=2.0 id=dontcare method=block \\\n  params:=\'{\n    "finality": "final"\n  }\'\n'})})})]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.code,{children:"[block_id]"})}),"\n",(0,c.jsxs)(t.Z,{children:[(0,c.jsx)(i.Z,{value:"json",label:"JSON",default:!0,children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": "dontcare",\n  "method": "block",\n  "params": {\n    "block_id": 17821130\n  }\n}\n'})})}),(0,c.jsx)(i.Z,{value:"\ud83c\udf10 JavaScript",label:"JavaScript",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-js",children:"const response = await near.connection.provider.block({blockId: 17821130});\n"})})}),(0,c.jsx)(i.Z,{value:"http",label:"HTTPie",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"http post https://rpc.testnet.near.org jsonrpc=2.0 id=dontcare method=block \\\n  params:='{\n    \"block_id\": 17821130\n  }'\n"})})})]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.code,{children:"[block_hash]"})}),"\n",(0,c.jsxs)(t.Z,{children:[(0,c.jsx)(i.Z,{value:"json",label:"JSON",default:!0,children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": "dontcare",\n  "method": "block",\n  "params": {\n    "block_id": "7nsuuitwS7xcdGnD9JgrE22cRB2vf2VS4yh1N9S71F4d"\n  }\n}\n'})})}),(0,c.jsx)(i.Z,{value:"\ud83c\udf10 JavaScript",label:"JavaScript",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-js",children:'const response = await near.connection.provider.block(\n  {blockId: "7nsuuitwS7xcdGnD9JgrE22cRB2vf2VS4yh1N9S71F4d"}\n);\n'})})}),(0,c.jsx)(i.Z,{value:"http",label:"HTTPie",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'http post https://rpc.testnet.near.org jsonrpc=2.0 id=dontcare method=block \\\n  params:=\'{\n    "block_id": "7nsuuitwS7xcdGnD9JgrE22cRB2vf2VS4yh1N9S71F4d"\n  }\'\n'})})})]}),"\n",(0,c.jsxs)(r,{children:[(0,c.jsx)("summary",{children:"V\xed d\u1ee5 v\u1ec1 response nh\u1eadn \u0111\u01b0\u1ee3c:"}),(0,c.jsx)("p",{children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "result": {\n    "author": "bitcat.pool.f863973.m0",\n    "header": {\n      "height": 17821130,\n      "epoch_id": "7Wr3GFJkYeCxjVGz3gDaxvAMUzXuzG8MjFXTFoAXB6ZZ",\n      "next_epoch_id": "A5AdnxEn7mfHieQ5fRxx9AagCkHNJz6wr61ppEXiWvvh",\n      "hash": "CLo31YCUhzz8ZPtS5vXLFskyZgHV5qWgXinBQHgu9Pyd",\n      "prev_hash": "2yUTTubrv1gJhTUVnHXh66JG3qxStBqySoN6wzRzgdVD",\n      "prev_state_root": "5rSz37fySS8XkVgEy3FAZwUncX4X1thcSpuvCgA6xmec",\n      "chunk_receipts_root": "9ETNjrt6MkwTgSVMMbpukfxRshSD1avBUUa4R4NuqwHv",\n      "chunk_headers_root": "HMpEoBhPvThWZvppLwrXQSSfumVdaDW7WfZoCAPtjPfo",\n      "chunk_tx_root": "7tkzFg8RHBmMw1ncRJZCCZAizgq4rwCftTKYLce8RU8t",\n      "outcome_root": "7tkzFg8RHBmMw1ncRJZCCZAizgq4rwCftTKYLce8RU8t",\n      "chunks_included": 1,\n      "challenges_root": "11111111111111111111111111111111",\n      "timestamp": 1601280114229875635,\n      "timestamp_nanosec": "1601280114229875635",\n      "random_value": "ACdUSF3nehbMTwT7qjUB6Mm4Ynck5TVAWbNH3DR1cjQ7",\n      "validator_proposals": [],\n      "chunk_mask": [true],\n      "gas_price": "100000000",\n      "rent_paid": "0",\n      "validator_reward": "0",\n      "total_supply": "1042339182040791154864822502764857",\n      "challenges_result": [],\n      "last_final_block": "AaxTqjYND5WAKbV2UZaFed6DH1DShN9fEemtnpTsv3eR",\n      "last_ds_final_block": "2yUTTubrv1gJhTUVnHXh66JG3qxStBqySoN6wzRzgdVD",\n      "next_bp_hash": "3ZNEoFYh2CQeJ9dc1pLBeUd1HWG8657j2c1v72ENE45Q",\n      "block_merkle_root": "H3912Nkw6rtamfjsjmafe2uV2p1XmUKDou5ywgxb1gJr",\n      "approvals": [\n        "ed25519:4hNtc9vLhn2PQhktWtLKJV9g8SBfpm6NBT1w4syNFqoKE7ZMts2WwKA9x1ZUSBGVKYCuDGEqogLvwCF25G7e1UR3",\n        "ed25519:2UNmbTqysMMevVPqJEKSq57hkcxVFcAMdGq7CFhpW65yBKFxYwpoziiWsAtARusLn9Sy1eXM7DkGTXwAqFiSooS6",\n        "ed25519:4sumGoW9dnQCsJRpzkd4FQ5NSJypGQRCppWp7eQ9tpsEcJXjHZN8GVTCyeEk19WmbbMEJ5KBNypryyHzaH2gBxd4",\n        "ed25519:3fP2dri6GjYkmHgEqQWWP9GcoQEgakbaUtfr3391tXtYBgxmiJUEymRe54m7D8bQrSJ3LhKD8gTFT7qqdemRnizR",\n        "ed25519:3mwdqSWNm6RiuZAoZhD6pqsirC2cL48nEZAGoKixpqbrsBpAzqV3W2paH4KtQQ4JPLvk5pnzojaint2kNBCcUyq1",\n        "ed25519:D4hMnxqLyQW4Wo29MRNMej887GH46yJXDKNN4es8UDSi9shJ9Y4FcGqkxdV4AZhn1yUjwN5LwfgAgY6fyczk5L3",\n        null,\n        "ed25519:4WCVm4dn88VJxTkUgcvdS7vs34diBqtQY4XWMRctSN1NpbgdkwwVyxg7d2SbGC22SuED7w4nrToMhcpJXrkhkDmF",\n        "ed25519:JqtC7TFP7U14s7YhRKQEqwbc2RUxoctq75mrBdX91f7DuCWsPpe6ZTTnfHPmuJPjTzFHVZTsaQJWzwfSrrgNpnc",\n        "ed25519:ngGUpWc2SyHmMCkWGTNNNfvZAJQ5z7P92JCmDqB7JW3j8fNH6LobvFFXb2zVdssibJKgnjwBj8CRe6qiZtuYQZM",\n        "ed25519:5kzW6RbjukyJZiw9NTzTPPsQdoqN6EecafjVFEoWmTxQ4uSv1uSXhQYcHK2eq4m84oMmPABQDz2mm73Qx8mDdCQX",\n        "ed25519:5wHnuuxwJJiZ4bXNq5cESnr4YovFU2yaUcuHRDUw3DnLoxkqc15CsegoyUSQKEwtCZ4yETv8Z9QcD6Wr9zHV4AUk",\n        "ed25519:3F9XzWBxto31e8RAcBShAJBzJPgSJQsWbPXR38AfQnJn6AiveGz3JjebQm9Ye63BrnNA57QrPshwknxpzSrcNEZW",\n        "ed25519:2g5s4SKsHt9PMdekkDqVtwwtz14v4edhqdBX1MYA8tB6nDpj3vDCDCTy9pEU8dX31PoQe5ygnf88aTZukMBMK1Yt",\n        "ed25519:3Xz4jqhdyS3qs6xTmWdgjwt5gJraU5czMA89hPhmvbAN4aA7SUKL1HkevpmutRQqqxe7c7uCFeGiDHvDcxhhmD8W",\n        null,\n        "ed25519:55xs3vwPEys39egf9Z8SNyn1JsHPRMgj9HCX1GE7GJsVTcAuutQUCo91E12ZdXkuToYRXb9KzoT8n9XQRCNuLpwY",\n        null,\n        "ed25519:28JrFw7KnhnQPN89qZnnw17KDBjS6CDN7zB1hTg7KGg8qQPoCzakz9DNnaSnx39ji7e2fQSpZt4cNJaD7K7Yu7yo",\n        "ed25519:41hAr5qhtvUYpdD2NK9qqTVnpG325ZoAiwrcmk1MJH7fdpxm7oSKXvXZqh7bTmPhv61hH2RpHnhcGuN4QqLzK2zt",\n        "ed25519:4QacMsQ5FJgvecAYDFq8QBh19BBjh4qU8oeD5bV7p6Zhhu3e6r2iSHTvDBU2Q62RZAaWQQkkEwDUC9rsXdkGVhAt",\n        "ed25519:27smtCZ3WobEvBuD5DggY6kkGxjB9qRVY6kPixgwqvBT1eKbRVoV8cLj1z51S8RTcp7YzAr1vhHJUHgksatR9Udz",\n        "ed25519:4wspCWoAbhYxb3th2eX6ZXvKep1Fsco7mFP5zBodXBR8Wr344ANXSUCri3gUgNCCSoQ2CKSdqDEsvE6Y2jQ9hmbB",\n        "ed25519:46XpYf9ZB9gjDfdnJLHqqhYJpQCuvCgB9tzKWS88GANMCb2j9BM3KXyjaEzynSsaPK8VrKFXQuTsTzgQSeo9cWGW",\n        null,\n        "ed25519:Y5ehsrhEpTRGjG6fHJHsEXj2NYPGMmKguiJHXP7TqsCWHBvNzaJbieR7UDp78hJ1ib7C18J5MB2kCzTXBCF9c3b",\n        "ed25519:3P9363Dc8Kqvgjt3TsNRncUrncCHid7aSRnuySjF4JYmQbApkAxomyMu8xm9Rgo3mj9rqXb16PM7Xjn7hKP6TyVr",\n        null,\n        null,\n        "ed25519:65ATjGsigZ3vMp7sGcp1c4ptxoqhHPkBeAaZ5GWJguVDLyrRLPJrtXhLGjH9DpXd7CZswjyMYq5aRtorLnmmJ7GW",\n        null,\n        "ed25519:5SvqSViXbtsLoFMdtCufyyDgZnrEK7LheFi38X5M2ic17gfV5cz37r85RyixjUv98MbAmgVdmkxVFDGfSbeoHW7X",\n        null,\n        null,\n        "ed25519:2n3fQiBEiDKkB84biXWyQmvnupKX7B8faugY37jVi8hVXuWLggJmaEjqub511RCYwFnwW1RBxYpuJQ455KaniCd4",\n        "ed25519:2K9xKFLJ2fW74tddXtghFGFurKWomAqaJmkKYVZKHQT6zHe5wNSYT3vzMotLQcez5JD1Ta57N9zQ4H1RysB2s5DZ",\n        null,\n        null,\n        "ed25519:3qeCRtcLAqLtQ2YSQLcHDa26ykKX1BvAhP9jshLLYapxSEGGgZJY8sU72p9E78AkXwHP3X2Eq74jvts7gTRzNgMg",\n        null,\n        "ed25519:2czSQCF8wBDomEeSdDRH4gFoyJrp2ppZqR6JDaDGoYpaFkpWxZf2oGDkKfQLZMbfvU6LXkQjJssVHcLCJRMzG8co"\n      ],\n      "signature": "ed25519:58sdWd6kxzhQdCGvHzxqvdtDLJzqspe74f3gytnqdxDLHf4eesXi7B3nYq2YaosCHZJYmcR4HPHKSoFm3WE4MbxT",\n      "latest_protocol_version": 35\n    },\n    "chunks": [\n      {\n        "chunk_hash": "EBM2qg5cGr47EjMPtH88uvmXHDHqmWPzKaQadbWhdw22",\n        "prev_block_hash": "2yUTTubrv1gJhTUVnHXh66JG3qxStBqySoN6wzRzgdVD",\n        "outcome_root": "11111111111111111111111111111111",\n        "prev_state_root": "HqWDq3f5HJuWnsTfwZS6jdAUqDjGFSTvjhb846vV27dx",\n        "encoded_merkle_root": "9zYue7drR1rhfzEEoc4WUXzaYRnRNihvRoGt1BgK7Lkk",\n        "encoded_length": 8,\n        "height_created": 17821130,\n        "height_included": 17821130,\n        "shard_id": 0,\n        "gas_used": 0,\n        "gas_limit": 1000000000000000,\n        "rent_paid": "0",\n        "validator_reward": "0",\n        "balance_burnt": "0",\n        "outgoing_receipts_root": "H4Rd6SGeEBTbxkitsCdzfu9xL9HtZ2eHoPCQXUeZ6bW4",\n        "tx_root": "11111111111111111111111111111111",\n        "validator_proposals": [],\n        "signature": "ed25519:4iPgpYAcPztAvnRHjfpegN37Rd8dTJKCjSd1gKAPLDaLcHUySJHjexMSSfC5iJVy28vqF9VB4psz13x2nt92cbR7"\n      }\n    ]\n  },\n  "id": "dontcare"\n}\n'})})})]}),"\n",(0,c.jsx)(e.h4,{id:"what-could-go-wrong",children:"S\u1ef1 c\u1ed1 n\xe0o c\xf3 th\u1ec3 x\u1ea3y ra?"}),"\n",(0,c.jsxs)(e.p,{children:["Khi API request kh\xf4ng th\xe0nh c\xf4ng, RPC server s\u1ebd tr\u1ea3 v\u1ec1 m\u1ed9t error response \u0111\u01b0\u1ee3c c\u1ea5u tr\xfac s\u1eb5n, v\u1edbi m\u1ed9t s\u1ed1 l\u01b0\u1ee3ng gi\u1edbi h\u1ea1n c\xe1c error variant \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a r\xf5 r\xe0ng, t\u1eeb \u0111\xf3 client code c\xf3 th\u1ec3 handle to\xe0n b\u1ed9 c\xe1c error case c\xf3 th\u1ec3 x\u1ea3y ra. C\xe1c JSON-RPC error c\u1ee7a ch\xfang t\xf4i tu\xe2n theo convention ",(0,c.jsx)(e.a,{href:"https://github.com/joyent/node-verror",children:"verror"})," \u0111\u1ec3 c\u1ea5u tr\xfac cho error response:"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n    "error": {\n        "name": <ERROR_TYPE>,\n        "cause": {\n            "info": {..},\n            "name": <ERROR_CAUSE>\n        },\n        "code": -32000,\n        "data": String,\n        "message": "Server error",\n    },\n    "id": "dontcare",\n    "jsonrpc": "2.0"\n}\n'})}),"\n",(0,c.jsxs)(e.blockquote,{children:["\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"Ch\xfa \xfd"})}),"\n",(0,c.jsxs)(e.p,{children:["C\xe1c field ",(0,c.jsx)(e.code,{children:"code"}),", ",(0,c.jsx)(e.code,{children:"data"}),", v\xe0 ",(0,c.jsx)(e.code,{children:"message"})," trong structure tr\xean l\xe0 nh\u1eefng field k\u1ebf th\u1eeba t\u1eeb Verror v\xe0 c\xf3 th\u1ec3 kh\xf4ng \u0111\u01b0\u1ee3c d\xf9ng n\u1eefa trong t\u01b0\u01a1ng lai. Do \u0111\xf3 vui l\xf2ng kh\xf4ng s\u1eed d\u1ee5ng ch\xfang."]}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"L\u01b0u \xfd"}),": B\u1ea1n c\xf3 th\u1ec3 ch\u1ecdn search theo m\u1ed9t block c\u1ee5 th\u1ec3 ",(0,c.jsx)(e.em,{children:"ho\u1eb7c"})," finality, ch\u1ee9 kh\xf4ng th\u1ec3 ch\u1ecdn c\u1ea3 hai."]}),"\n",(0,c.jsxs)("table",{className:"custom-stripe",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,c.jsxs)(e.p,{children:["ERROR_TYPE",(0,c.jsx)("br",{}),"\n",(0,c.jsx)("code",{children:"error.name"})]})}),(0,c.jsxs)("th",{children:["ERROR_CAUSE",(0,c.jsx)("br",{}),(0,c.jsx)("code",{children:"error.cause.name"})]}),(0,c.jsx)("th",{children:"Nguy\xean nh\xe2n"}),(0,c.jsx)("th",{children:"Gi\u1ea3i ph\xe1p"})]})}),(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{rowspan:"2",children:"HANDLER_ERROR"}),(0,c.jsx)("td",{children:"UNKNOWN_BLOCK"}),(0,c.jsx)("td",{children:"Block \u0111ang \u0111\u01b0\u1ee3c request ch\u01b0a \u0111\u01b0\u1ee3c t\u1ea1o ra, ho\u1eb7c n\xf3 \u0111\xe3 \u0111\u01b0\u1ee3c garbage-collect (d\u1ecdn d\u1eb9p \u0111\u1ec3 ti\u1ebft ki\u1ec7m dung l\u01b0\u1ee3ng tr\xean node RPC)"}),(0,c.jsx)("td",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"Ki\u1ec3m tra xem block \u0111\u01b0\u1ee3c request c\xf3 h\u1ee3p l\u1ec7 kh\xf4ng"}),(0,c.jsxs)("li",{children:["N\u1ebfu block \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o ra h\u01a1n 5 epoch tr\u01b0\u1edbc \u0111\xf3, h\xe3y th\u1eed g\u1edfi request c\u1ee7a b\u1ea1n \u0111\u1ebfn ",(0,c.jsx)("a",{href:"https://near-nodes.io/intro/node-types#archival-node",children:"m\u1ed9t archival node"})]})]})})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"NOT_SYNCED_YET"}),(0,c.jsx)("td",{children:"Node v\u1eabn c\xf2n \u0111ang sync v\xe0 block \u0111\u01b0\u1ee3c request ch\u01b0a c\xf3 trong database"}),(0,c.jsx)("td",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"Ch\u1edd \u0111\u1ebfn khi node sync xong"}),(0,c.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c \u0111\xe3 sync xong"})]})})]}),(0,c.jsxs)("tr",{className:"stripe",children:[(0,c.jsx)("td",{children:"REQUEST_VALIDATION_ERROR"}),(0,c.jsx)("td",{children:"PARSE_ERROR"}),(0,c.jsx)("td",{children:"\u0110\xe3 pass c\xe1c argument m\xe0 JSON RPC server kh\xf4ng th\u1ec3 parse \u0111\u01b0\u1ee3c (thi\u1ebfu c\xe1c argument, sai format, v.v...)"}),(0,c.jsx)("td",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"Ki\u1ec3m tra l\u1ea1i c\xe1c argument \u0111\xe3 pass v\xe0 pass l\u1ea1i cho \u0111\xfang"}),(0,c.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,c.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft"]})]})})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"INTERNAL_ERROR"}),(0,c.jsx)("td",{children:"INTERNAL_ERROR"}),(0,c.jsx)("td",{children:"\u0110\xe3 x\u1ea3y ra l\u1ed7i v\u1edbi ch\xednh node \u0111\xf3, ho\u1eb7c b\u1ecb overload"}),(0,c.jsx)("td",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"H\xe3y th\u1eed l\u1ea1i sau"}),(0,c.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c"}),(0,c.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,c.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft"]})]})})]})]})]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"changes-in-block",children:"C\xe1c thay \u0111\u1ed5i trong Block"}),"\n",(0,c.jsxs)(e.blockquote,{children:["\n",(0,c.jsxs)(e.p,{children:["Tr\u1ea3 v\u1ec1 c\xe1c thay \u0111\u1ed5i trong block v\u1edbi height ho\u1eb7c hash c\u1ee7a block \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh. B\u1ea1n c\u0169ng c\xf3 th\u1ec3 s\u1eed d\u1ee5ng param ",(0,c.jsx)(e.code,{children:"finality"})," \u0111\u1ec3 tr\u1ea3 v\u1ec1 c\xe1c chi ti\u1ebft c\u1ee7a block m\u1edbi nh\u1ea5t."]}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["v\xed d\u1ee5 cho ",(0,c.jsx)(e.code,{children:"finality"}),":"]}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["method: ",(0,c.jsx)(e.code,{children:"EXPERIMENTAL_changes_in_block"})]}),"\n",(0,c.jsxs)(e.li,{children:["c\xe1c param:","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.a,{href:"/docs/api/rpc#using-finality-param",children:(0,c.jsx)(e.code,{children:"finality"})})," ",(0,c.jsx)(e.em,{children:"HO\u1eb6C"})," ",(0,c.jsx)(e.a,{href:"/docs/api/rpc#using-block_id-param",children:(0,c.jsx)(e.code,{children:"block_id"})})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.code,{children:"finality"})}),"\n",(0,c.jsxs)(t.Z,{children:[(0,c.jsx)(i.Z,{value:"json",label:"JSON",default:!0,children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": "dontcare",\n  "method": "EXPERIMENTAL_changes_in_block",\n  "params": {\n    "finality": "final"\n  }\n}\n'})})}),(0,c.jsx)(i.Z,{value:"\ud83c\udf10 JavaScript",label:"JavaScript",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-js",children:'const response = await near.connection.provider.experimental_changes_in_block({\n  finality: "final",\n});\n'})})}),(0,c.jsx)(i.Z,{value:"http",label:"HTTPie",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'http post https://rpc.testnet.near.org jsonrpc=2.0 id=dontcare method=EXPERIMENTAL_changes_in_block \\\n  params:=\'{\n    "finality": "final"\n  }\'\n'})})})]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.code,{children:"[block_id]"})}),"\n",(0,c.jsxs)(t.Z,{children:[(0,c.jsx)(i.Z,{value:"json",label:"JSON",default:!0,children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": "dontcare",\n  "method": "EXPERIMENTAL_changes_in_block",\n  "params": {\n    "block_id": 17821135\n  }\n}\n'})})}),(0,c.jsx)(i.Z,{value:"\ud83c\udf10 JavaScript",label:"JavaScript",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-js",children:"const response = await near.connection.provider.experimental_changes_in_block(\n  17821135\n);\n"})})}),(0,c.jsx)(i.Z,{value:"http",label:"HTTPie",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"http post https://rpc.testnet.near.org jsonrpc=2.0 id=dontcare method=EXPERIMENTAL_changes_in_block \\\n  params:='{\n    \"block_id\": 17821135\n  }'\n"})})})]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.code,{children:"block_hash"})}),"\n",(0,c.jsxs)(t.Z,{children:[(0,c.jsx)(i.Z,{value:"json",label:"JSON",default:!0,children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": "dontcare",\n  "method": "EXPERIMENTAL_changes_in_block",\n  "params": {\n    "block_id": "81k9ked5s34zh13EjJt26mxw5npa485SY4UNoPi6yYLo"\n  }\n}\n'})})}),(0,c.jsx)(i.Z,{value:"\ud83c\udf10 JavaScript",label:"JavaScript",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-js",children:'const response = await near.connection.provider.experimental_changes_in_block(\n  "81k9ked5s34zh13EjJt26mxw5npa485SY4UNoPi6yYLo"\n);\n'})})}),(0,c.jsx)(i.Z,{value:"http",label:"HTTPie",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'http post https://rpc.testnet.near.org jsonrpc=2.0 id=dontcare method=EXPERIMENTAL_changes_in_block \\\n  params:=\'{\n    "block_id": "81k9ked5s34zh13EjJt26mxw5npa485SY4UNoPi6yYLo"\n  }\'\n'})})})]}),"\n",(0,c.jsxs)(r,{children:[(0,c.jsx)("summary",{children:"V\xed d\u1ee5 tr\u1ea3 v\u1ec1: "}),(0,c.jsx)("p",{children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "result": {\n    "block_hash": "81k9ked5s34zh13EjJt26mxw5npa485SY4UNoPi6yYLo",\n    "changes": [\n      {\n        "type": "account_touched",\n        "account_id": "lee.testnet"\n      },\n      {\n        "type": "contract_code_touched",\n        "account_id": "lee.testnet"\n      },\n      {\n        "type": "access_key_touched",\n        "account_id": "lee.testnet"\n      }\n    ]\n  },\n  "id": "dontcare"\n}\n'})})})]}),"\n",(0,c.jsx)(e.h4,{id:"what-could-go-wrong-1",children:"S\u1ef1 c\u1ed1 n\xe0o c\xf3 th\u1ec3 x\u1ea3y ra?"}),"\n",(0,c.jsxs)(e.p,{children:["Khi API request kh\xf4ng th\xe0nh c\xf4ng, RPC server s\u1ebd tr\u1ea3 v\u1ec1 m\u1ed9t error response \u0111\u01b0\u1ee3c c\u1ea5u tr\xfac s\u1eb5n, v\u1edbi m\u1ed9t s\u1ed1 l\u01b0\u1ee3ng gi\u1edbi h\u1ea1n c\xe1c error variant \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a r\xf5 r\xe0ng, t\u1eeb \u0111\xf3 client code c\xf3 th\u1ec3 handle to\xe0n b\u1ed9 c\xe1c error case c\xf3 th\u1ec3 x\u1ea3y ra. C\xe1c JSON-RPC error c\u1ee7a ch\xfang t\xf4i tu\xe2n theo convention ",(0,c.jsx)(e.a,{href:"https://github.com/joyent/node-verror",children:"verror"})," \u0111\u1ec3 c\u1ea5u tr\xfac cho error response:"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n    "error": {\n        "name": <ERROR_TYPE>,\n        "cause": {\n            "info": {..},\n            "name": <ERROR_CAUSE>\n        },\n        "code": -32000,\n        "data": String,\n        "message": "Server error",\n    },\n    "id": "dontcare",\n    "jsonrpc": "2.0"\n}\n'})}),"\n",(0,c.jsxs)(e.blockquote,{children:["\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"Ch\xfa \xfd"})}),"\n",(0,c.jsxs)(e.p,{children:["C\xe1c field ",(0,c.jsx)(e.code,{children:"code"}),", ",(0,c.jsx)(e.code,{children:"data"}),", v\xe0 ",(0,c.jsx)(e.code,{children:"message"})," trong structure tr\xean l\xe0 nh\u1eefng field k\u1ebf th\u1eeba t\u1eeb Verror v\xe0 c\xf3 th\u1ec3 kh\xf4ng \u0111\u01b0\u1ee3c d\xf9ng n\u1eefa trong t\u01b0\u01a1ng lai. Do \u0111\xf3 vui l\xf2ng kh\xf4ng s\u1eed d\u1ee5ng ch\xfang."]}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["v\xed d\u1ee5 cho ",(0,c.jsx)(e.code,{children:"chunk_id"}),":"]}),"\n",(0,c.jsxs)("table",{className:"custom-stripe",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,c.jsxs)(e.p,{children:["ERROR_TYPE",(0,c.jsx)("br",{}),"\n",(0,c.jsx)("code",{children:"error.name"})]})}),(0,c.jsxs)("th",{children:["ERROR_CAUSE",(0,c.jsx)("br",{}),(0,c.jsx)("code",{children:"error.cause.name"})]}),(0,c.jsx)("th",{children:"Nguy\xean nh\xe2n"}),(0,c.jsx)("th",{children:"Gi\u1ea3i ph\xe1p"})]})}),(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{rowspan:"2",children:"HANDLER_ERROR"}),(0,c.jsx)("td",{children:"UNKNOWN_BLOCK"}),(0,c.jsx)("td",{children:"Block \u0111ang \u0111\u01b0\u1ee3c request ch\u01b0a \u0111\u01b0\u1ee3c t\u1ea1o ra, ho\u1eb7c n\xf3 \u0111\xe3 \u0111\u01b0\u1ee3c garbage-collect (d\u1ecdn d\u1eb9p \u0111\u1ec3 ti\u1ebft ki\u1ec7m dung l\u01b0\u1ee3ng tr\xean node RPC)"}),(0,c.jsx)("td",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"Ki\u1ec3m tra xem block \u0111\u01b0\u1ee3c request c\xf3 h\u1ee3p l\u1ec7 kh\xf4ng"}),(0,c.jsxs)("li",{children:["N\u1ebfu block \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o ra h\u01a1n 5 epoch tr\u01b0\u1edbc \u0111\xf3, h\xe3y th\u1eed g\u1edfi request c\u1ee7a b\u1ea1n \u0111\u1ebfn ",(0,c.jsx)("a",{href:"https://near-nodes.io/intro/node-types#archival-node",children:"m\u1ed9t archival node"})]})]})})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"NOT_SYNCED_YET"}),(0,c.jsx)("td",{children:"Node v\u1eabn c\xf2n \u0111ang sync v\xe0 block \u0111\u01b0\u1ee3c request ch\u01b0a c\xf3 trong database"}),(0,c.jsx)("td",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"Ch\u1edd \u0111\u1ebfn khi node sync xong"}),(0,c.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c \u0111\xe3 sync xong"})]})})]}),(0,c.jsxs)("tr",{className:"stripe",children:[(0,c.jsx)("td",{children:"REQUEST_VALIDATION_ERROR"}),(0,c.jsx)("td",{children:"PARSE_ERROR"}),(0,c.jsx)("td",{children:"\u0110\xe3 pass c\xe1c argument m\xe0 JSON RPC server kh\xf4ng th\u1ec3 parse \u0111\u01b0\u1ee3c (thi\u1ebfu c\xe1c argument, sai format, v.v...)"}),(0,c.jsx)("td",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"Ki\u1ec3m tra l\u1ea1i c\xe1c argument \u0111\xe3 pass v\xe0 pass l\u1ea1i cho \u0111\xfang"}),(0,c.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,c.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft"]})]})})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"INTERNAL_ERROR"}),(0,c.jsx)("td",{children:"INTERNAL_ERROR"}),(0,c.jsx)("td",{children:"\u0110\xe3 x\u1ea3y ra l\u1ed7i v\u1edbi ch\xednh node \u0111\xf3, ho\u1eb7c b\u1ecb overload"}),(0,c.jsx)("td",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"H\xe3y th\u1eed l\u1ea1i sau"}),(0,c.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c"}),(0,c.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,c.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft"]})]})})]})]})]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"chunk-details",children:"C\xe1c chi ti\u1ebft Chunk"}),"\n",(0,c.jsxs)(e.blockquote,{children:["\n",(0,c.jsxs)(e.p,{children:["Tr\u1ea3 v\u1ec1 c\xe1c chi ti\u1ebft cho m\u1ed9t chunk c\u1ee5 th\u1ec3. You can run a ",(0,c.jsx)(e.a,{href:"/api/rpc/setup#block-details",children:"block details"})," query to get a valid chunk hash."]}),"\n"]}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["method: ",(0,c.jsx)(e.code,{children:"chunk"})]}),"\n",(0,c.jsxs)(e.li,{children:["c\xe1c param:","\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"chunk_id"})," ",(0,c.jsx)(e.em,{children:"HO\u1eb6C"})," ",(0,c.jsxs)(e.a,{href:"/docs/api/rpc#using-block_id-param",children:[(0,c.jsx)(e.code,{children:"block_id"}),", ",(0,c.jsx)(e.code,{children:"shard_id"})]})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["V\xed d\u1ee5 cho ",(0,c.jsx)(e.code,{children:"block_id"}),", ",(0,c.jsx)(e.code,{children:"shard_id"}),":"]}),"\n",(0,c.jsxs)(t.Z,{children:[(0,c.jsx)(i.Z,{value:"json",label:"JSON",default:!0,children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": "dontcare",\n  "method": "chunk",\n  "params": {"chunk_id": "EBM2qg5cGr47EjMPtH88uvmXHDHqmWPzKaQadbWhdw22"}\n}\n'})})}),(0,c.jsx)(i.Z,{value:"\ud83c\udf10 JavaScript",label:"JavaScript",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-js",children:'const response = await near.connection.provider.chunk({\n  chunk_id: "EBM2qg5cGr47EjMPtH88uvmXHDHqmWPzKaQadbWhdw22"\n});\n'})})}),(0,c.jsx)(i.Z,{value:"http",label:"HTTPie",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'http post https://rpc.testnet.near.org jsonrpc=2.0 method=chunk params:=\'{"chunk_id": "EBM2qg5cGr47EjMPtH88uvmXHDHqmWPzKaQadbWhdw22"}\' id=dontcare\n'})})})]}),"\n",(0,c.jsxs)(e.p,{children:["V\xed d\u1ee5 cho ",(0,c.jsx)(e.code,{children:"block_id"}),", ",(0,c.jsx)(e.code,{children:"shard_id"}),":"]}),"\n",(0,c.jsxs)(t.Z,{children:[(0,c.jsx)(i.Z,{value:"json",label:"JSON",default:!0,children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": "dontcare",\n  "method": "chunk",\n  "params": {"block_id": 58934027, "shard_id": 0}\n}\n'})})}),(0,c.jsx)(i.Z,{value:"\ud83c\udf10 JavaScript",label:"JavaScript",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-js",children:"const response = await near.connection.provider.chunk({\n  block_id: 58934027, shard_id: 0\n});\n"})})}),(0,c.jsx)(i.Z,{value:"http",label:"HTTPie",children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'http post https://rpc.testnet.near.org jsonrpc=2.0 method=chunk params:=\'{"block_id": 58934027, "shard_id": 0}\' id=dontcare\n'})})})]}),"\n",(0,c.jsxs)(r,{children:[(0,c.jsx)("summary",{children:"V\xed d\u1ee5 v\u1ec1 response nh\u1eadn \u0111\u01b0\u1ee3c: "}),(0,c.jsx)("p",{children:(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "result": {\n    "author": "bitcat.pool.f863973.m0",\n    "header": {\n      "chunk_hash": "EBM2qg5cGr47EjMPtH88uvmXHDHqmWPzKaQadbWhdw22",\n      "prev_block_hash": "2yUTTubrv1gJhTUVnHXh66JG3qxStBqySoN6wzRzgdVD",\n      "outcome_root": "11111111111111111111111111111111",\n      "prev_state_root": "HqWDq3f5HJuWnsTfwZS6jdAUqDjGFSTvjhb846vV27dx",\n      "encoded_merkle_root": "9zYue7drR1rhfzEEoc4WUXzaYRnRNihvRoGt1BgK7Lkk",\n      "encoded_length": 8,\n      "height_created": 17821130,\n      "height_included": 17821130,\n      "shard_id": 0,\n      "gas_used": 0,\n      "gas_limit": 1000000000000000,\n      "rent_paid": "0",\n      "validator_reward": "0",\n      "balance_burnt": "0",\n      "outgoing_receipts_root": "H4Rd6SGeEBTbxkitsCdzfu9xL9HtZ2eHoPCQXUeZ6bW4",\n      "tx_root": "11111111111111111111111111111111",\n      "validator_proposals": [],\n      "signature": "ed25519:4iPgpYAcPztAvnRHjfpegN37Rd8dTJKCjSd1gKAPLDaLcHUySJHjexMSSfC5iJVy28vqF9VB4psz13x2nt92cbR7"\n    },\n    "transactions": [],\n    "receipts": []\n  },\n  "id": "dontcare"\n}\n'})})})]}),"\n",(0,c.jsx)(e.h4,{id:"what-could-go-wrong-2",children:"S\u1ef1 c\u1ed1 n\xe0o c\xf3 th\u1ec3 x\u1ea3y ra?"}),"\n",(0,c.jsxs)(e.p,{children:["Khi API request kh\xf4ng th\xe0nh c\xf4ng, RPC server s\u1ebd tr\u1ea3 v\u1ec1 m\u1ed9t error response \u0111\u01b0\u1ee3c c\u1ea5u tr\xfac s\u1eb5n, v\u1edbi m\u1ed9t s\u1ed1 l\u01b0\u1ee3ng gi\u1edbi h\u1ea1n c\xe1c error variant \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a r\xf5 r\xe0ng, t\u1eeb \u0111\xf3 client code c\xf3 th\u1ec3 handle to\xe0n b\u1ed9 c\xe1c error case c\xf3 th\u1ec3 x\u1ea3y ra. C\xe1c JSON-RPC error c\u1ee7a ch\xfang t\xf4i tu\xe2n theo convention ",(0,c.jsx)(e.a,{href:"https://github.com/joyent/node-verror",children:"verror"})," \u0111\u1ec3 c\u1ea5u tr\xfac cho error response:"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'{\n    "error": {\n        "name": <ERROR_TYPE>,\n        "cause": {\n            "info": {..},\n            "name": <ERROR_CAUSE>\n        },\n        "code": -32000,\n        "data": String,\n        "message": "Server error",\n    },\n    "id": "dontcare",\n    "jsonrpc": "2.0"\n}\n'})}),"\n",(0,c.jsxs)(e.blockquote,{children:["\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"Ch\xfa \xfd"})}),"\n",(0,c.jsxs)(e.p,{children:["C\xe1c field ",(0,c.jsx)(e.code,{children:"code"}),", ",(0,c.jsx)(e.code,{children:"data"}),", v\xe0 ",(0,c.jsx)(e.code,{children:"message"})," trong structure tr\xean l\xe0 nh\u1eefng field k\u1ebf th\u1eeba t\u1eeb Verror v\xe0 c\xf3 th\u1ec3 kh\xf4ng \u0111\u01b0\u1ee3c d\xf9ng n\u1eefa trong t\u01b0\u01a1ng lai. Do \u0111\xf3 vui l\xf2ng kh\xf4ng s\u1eed d\u1ee5ng ch\xfang."]}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["D\u01b0\u1edbi \u0111\xe2y l\xe0 danh s\xe1ch \u0111\u1ea7y \u0111\u1ee7 c\xe1c error variant c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 b\u1edfi method ",(0,c.jsx)(e.code,{children:"chunk"}),":"]}),"\n",(0,c.jsxs)("table",{className:"custom-stripe",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,c.jsxs)(e.p,{children:["ERROR_TYPE",(0,c.jsx)("br",{}),"\n",(0,c.jsx)("code",{children:"error.name"})]})}),(0,c.jsxs)("th",{children:["ERROR_CAUSE",(0,c.jsx)("br",{}),(0,c.jsx)("code",{children:"error.cause.name"})]}),(0,c.jsx)("th",{children:"Nguy\xean nh\xe2n"}),(0,c.jsx)("th",{children:"Gi\u1ea3i ph\xe1p"})]})}),(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{rowspan:"4",children:"HANDLER_ERROR"}),(0,c.jsx)("td",{children:"UNKNOWN_BLOCK"}),(0,c.jsx)("td",{children:"Block \u0111ang \u0111\u01b0\u1ee3c request ch\u01b0a \u0111\u01b0\u1ee3c t\u1ea1o ra, ho\u1eb7c n\xf3 \u0111\xe3 \u0111\u01b0\u1ee3c garbage-collect (d\u1ecdn d\u1eb9p \u0111\u1ec3 ti\u1ebft ki\u1ec7m dung l\u01b0\u1ee3ng tr\xean node RPC)"}),(0,c.jsx)("td",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"Ki\u1ec3m tra xem block \u0111\u01b0\u1ee3c request c\xf3 h\u1ee3p l\u1ec7 kh\xf4ng"}),(0,c.jsxs)("li",{children:["N\u1ebfu block \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o ra h\u01a1n 5 epoch tr\u01b0\u1edbc \u0111\xf3, h\xe3y th\u1eed g\u1edfi request c\u1ee7a b\u1ea1n \u0111\u1ebfn ",(0,c.jsx)("a",{href:"https://near-nodes.io/intro/node-types#archival-node",children:"m\u1ed9t archival node"})]})]})})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"UNKNOWN_CHUNK"}),(0,c.jsx)("td",{children:"Chunk \u0111\xe3 request kh\xf4ng \u0111\u01b0\u1ee3c t\xecm th\u1ea5y trong m\u1ed9t database"}),(0,c.jsx)("td",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"Ki\u1ec3m tra xem chunk \u0111\u01b0\u1ee3c request c\xf3 h\u1ee3p l\u1ec7 kh\xf4ng"}),(0,c.jsx)("li",{children:"N\u1ebfu chunk \u0111\xe3 \u0111\u01b0\u1ee3c produce h\u01a1n 5 epoch tr\u01b0\u1edbc \u0111\xf3, h\xe3y th\u1eed send request c\u1ee7a b\u1ea1n \u0111\u1ebfn m\u1ed9t archival node"})]})})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"INVALID_SHARD_ID"}),(0,c.jsxs)("td",{children:[(0,c.jsx)("code",{children:"shard_id"})," \u0111\xe3 cung c\u1ea5p kh\xf4ng t\u1ed3n t\u1ea1i"]}),(0,c.jsx)("td",{children:(0,c.jsx)("ul",{children:(0,c.jsxs)("li",{children:["H\xe3y cung c\u1ea5p ",(0,c.jsx)("code",{children:"shard_id"})," c\u1ee7a m\u1ed9t shard \u0111ang c\xf3 s\u1eb5n"]})})})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"NOT_SYNCED_YET"}),(0,c.jsx)("td",{children:"Node v\u1eabn c\xf2n \u0111ang sync v\xe0 chunk \u0111\u01b0\u1ee3c request ch\u01b0a c\xf3 trong database"}),(0,c.jsx)("td",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"Ch\u1edd \u0111\u1ebfn khi node sync xong"}),(0,c.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c \u0111\xe3 sync xong"})]})})]}),(0,c.jsxs)("tr",{className:"stripe",children:[(0,c.jsx)("td",{children:"REQUEST_VALIDATION_ERROR"}),(0,c.jsx)("td",{children:"PARSE_ERROR"}),(0,c.jsx)("td",{children:"\u0110\xe3 pass c\xe1c argument m\xe0 JSON RPC server kh\xf4ng th\u1ec3 parse \u0111\u01b0\u1ee3c (thi\u1ebfu c\xe1c argument, sai format, v.v...)"}),(0,c.jsx)("td",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"Ki\u1ec3m tra l\u1ea1i c\xe1c argument \u0111\xe3 pass v\xe0 pass l\u1ea1i cho \u0111\xfang"}),(0,c.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,c.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft"]})]})})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"INTERNAL_ERROR"}),(0,c.jsx)("td",{children:"INTERNAL_ERROR"}),(0,c.jsx)("td",{children:"\u0110\xe3 x\u1ea3y ra l\u1ed7i v\u1edbi ch\xednh node \u0111\xf3, ho\u1eb7c b\u1ecb overload"}),(0,c.jsx)("td",{children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"H\xe3y th\u1eed l\u1ea1i sau"}),(0,c.jsx)("li",{children:"G\u1edfi m\u1ed9t request \u0111\u1ebfn m\u1ed9t node kh\xe1c"}),(0,c.jsxs)("li",{children:["Ki\u1ec3m tra ",(0,c.jsx)("code",{children:"error.cause.info"})," \u0111\u1ec3 bi\u1ebft th\xeam chi ti\u1ebft"]})]})})]})]})]}),"\n",(0,c.jsx)(e.hr,{})]})}function j(n={}){const{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(u,{...n})}):u(n)}},85162:(n,e,r)=>{r.d(e,{Z:()=>i});r(67294);var c=r(36905);const s={tabItem:"tabItem_Ymn6"};var t=r(85893);function i(n){var e=n.children,r=n.hidden,i=n.className;return(0,t.jsx)("div",{role:"tabpanel",className:(0,c.Z)(s.tabItem,i),hidden:r,children:e})}},74866:(n,e,r)=>{r.d(e,{Z:()=>_});var c=r(67294),s=r(36905),t=r(12466),i=r(16550),a=r(20469),l=r(91980),d=r(67392),h=r(50012);function o(n){var e,r;return null!=(e=null==(r=c.Children.toArray(n).filter((function(n){return"\n"!==n})).map((function(n){if(!n||(0,c.isValidElement)(n)&&((e=n.props)&&"object"==typeof e&&"value"in e))return n;var e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof n.type?n.type:n.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:r.filter(Boolean))?e:[]}function u(n){var e=n.values,r=n.children;return(0,c.useMemo)((function(){var n=null!=e?e:function(n){return o(n).map((function(n){var e=n.props;return{value:e.value,label:e.label,attributes:e.attributes,default:e.default}}))}(r);return function(n){var e=(0,d.l)(n,(function(n,e){return n.value===e.value}));if(e.length>0)throw new Error('Docusaurus error: Duplicate values "'+e.map((function(n){return n.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(n),n}),[e,r])}function j(n){var e=n.value;return n.tabValues.some((function(n){return n.value===e}))}function x(n){var e=n.queryString,r=void 0!==e&&e,s=n.groupId,t=(0,i.k6)(),a=function(n){var e=n.queryString,r=void 0!==e&&e,c=n.groupId;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!c)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=c?c:null}({queryString:r,groupId:s});return[(0,l._X)(a),(0,c.useCallback)((function(n){if(a){var e=new URLSearchParams(t.location.search);e.set(a,n),t.replace(Object.assign({},t.location,{search:e.toString()}))}}),[a,t])]}function p(n){var e,r,s,t,i=n.defaultValue,l=n.queryString,d=void 0!==l&&l,o=n.groupId,p=u(n),g=(0,c.useState)((function(){return function(n){var e,r=n.defaultValue,c=n.tabValues;if(0===c.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!j({value:r,tabValues:c}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+r+'" but none of its children has the corresponding value. Available values are: '+c.map((function(n){return n.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return r}var s=null!=(e=c.find((function(n){return n.default})))?e:c[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:i,tabValues:p})})),m=g[0],v=g[1],b=x({queryString:d,groupId:o}),k=b[0],f=b[1],_=(e=function(n){return n?"docusaurus.tab."+n:null}({groupId:o}.groupId),r=(0,h.Nk)(e),s=r[0],t=r[1],[s,(0,c.useCallback)((function(n){e&&t.set(n)}),[e,t])]),R=_[0],N=_[1],y=function(){var n=null!=k?k:R;return j({value:n,tabValues:p})?n:null}();return(0,a.Z)((function(){y&&v(y)}),[y]),{selectedValue:m,selectValue:(0,c.useCallback)((function(n){if(!j({value:n,tabValues:p}))throw new Error("Can't select invalid tab value="+n);v(n),f(n),N(n)}),[f,N,p]),tabValues:p}}var g=r(72389);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=r(85893);function b(n){var e=n.className,r=n.block,c=n.selectedValue,i=n.selectValue,a=n.tabValues,l=[],d=(0,t.o5)().blockElementScrollPositionUntilNextRender,h=function(n){var e=n.currentTarget,r=l.indexOf(e),s=a[r].value;s!==c&&(d(e),i(s))},o=function(n){var e,r=null;switch(n.key){case"Enter":h(n);break;case"ArrowRight":var c,s=l.indexOf(n.currentTarget)+1;r=null!=(c=l[s])?c:l[0];break;case"ArrowLeft":var t,i=l.indexOf(n.currentTarget)-1;r=null!=(t=l[i])?t:l[l.length-1]}null==(e=r)||e.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":r},e),children:a.map((function(n){var e=n.value,r=n.label,t=n.attributes;return(0,v.jsx)("li",Object.assign({role:"tab",tabIndex:c===e?0:-1,"aria-selected":c===e,ref:function(n){return l.push(n)},onKeyDown:o,onClick:h},t,{className:(0,s.Z)("tabs__item",m.tabItem,null==t?void 0:t.className,{"tabs__item--active":c===e}),children:null!=r?r:e}),e)}))})}function k(n){var e=n.lazy,r=n.children,s=n.selectedValue,t=(Array.isArray(r)?r:[r]).filter(Boolean);if(e){var i=t.find((function(n){return n.props.value===s}));return i?(0,c.cloneElement)(i,{className:"margin-top--md"}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:t.map((function(n,e){return(0,c.cloneElement)(n,{key:e,hidden:n.props.value!==s})}))})}function f(n){var e=p(n);return(0,v.jsxs)("div",{className:(0,s.Z)("tabs-container",m.tabList),children:[(0,v.jsx)(b,Object.assign({},n,e)),(0,v.jsx)(k,Object.assign({},n,e))]})}function _(n){var e=(0,g.Z)();return(0,v.jsx)(f,Object.assign({},n,{children:o(n.children)}),String(e))}},11151:(n,e,r)=>{r.d(e,{Z:()=>a,a:()=>i});var c=r(67294);const s={},t=c.createContext(s);function i(n){const e=c.useContext(t);return c.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),c.createElement(t.Provider,{value:e},n.children)}}}]);