import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import { LantstoolLabel } from "@site/src/components/lantstool/LantstoolLabel/LantstoolLabel";
import { TryOutOnLantstool } from "@site/src/components/lantstool/TryOutOnLantstool";
import FinalityRequestJson from "./finality/request-json.mdx";
import FinalityRequestJs from "./finality/request-js.mdx";
import FinalityRequestBash from "./finality/request-bash.mdx";
import BlockHeightRequestJson from "./block-height/request-json.mdx";
import BlockHeightRequestJs from "./block-height/request-js.mdx";
import BlockHeightRequestBash from "./block-height/request-bash.mdx";
import BlockHashRequestJson from "./block-hash/request-json.mdx";
import BlockHashRequestJs from "./block-hash/request-js.mdx";
import BlockHashRequestBash from "./block-hash/request-bash.mdx";
import ResponseJson from "./response-json.mdx";
import ErrorSchemaDescription from "../../_general/error-schema-description.mdx";
import ErrorSchemaTable from "./error-schema-table.mdx";

## Changes in Block {#changes-in-block}

> Returns changes in block for given block height or hash. You can also use
> `finality` param to return latest block details.

**Note**: You may choose to search by a specific block _or_ finality, you can not choose both.

- method: `EXPERIMENTAL_changes_in_block`
- params:
  - [`finality`](/api/rpc/setup#using-finality-param) _OR_ [`block_id`](/api/rpc/setup#using-block_id-param)

`finality` example:

<Tabs groupId="code-tabs">
  <TabItem value="json" label="JSON" default>
    <FinalityRequestJson />
  </TabItem>
  <TabItem value="js" label="JavaScript">
    <FinalityRequestJs />
  </TabItem>
  <TabItem value="http" label="HTTPie">
    <FinalityRequestBash />
  </TabItem>
  <TabItem value="Lantstool" label={<LantstoolLabel />}>
    <TryOutOnLantstool path="docs/5.api/rpc/block-chunk/get-latest-block-changes.json" />
  </TabItem>
</Tabs>

`block_height` example:

<Tabs groupId="code-tabs">
  <TabItem value="json" label="JSON" default>
    <BlockHeightRequestJson />
  </TabItem>
  <TabItem value="js" label="JavaScript">
    <BlockHeightRequestJs />
  </TabItem>
  <TabItem value="http" label="HTTPie">
    <BlockHeightRequestBash />
  </TabItem>
  <TabItem value="Lantstool" label={<LantstoolLabel />}>
    <TryOutOnLantstool path="docs/5.api/rpc/block-chunk/get-block-changes-by-block-height.json" />
  </TabItem>
</Tabs>

`block_hash` example:

<Tabs groupId="code-tabs">
  <TabItem value="json" label="JSON" default>
    <BlockHashRequestJson />
  </TabItem>
  <TabItem value="js" label="JavaScript">
    <BlockHashRequestJs />
  </TabItem>
  <TabItem value="http" label="HTTPie">
    <BlockHashRequestBash />
  </TabItem>
  <TabItem value="Lantstool" label={<LantstoolLabel />}>
    <TryOutOnLantstool path="docs/5.api/rpc/block-chunk/get-block-changes-by-block-hash.json" />
  </TabItem>
</Tabs>

<details>
  <summary>Example response: </summary>
  <ResponseJson />
</details>

#### What Could Go Wrong? {#what-could-go-wrong-1}

<ErrorSchemaDescription />

Here is the exhaustive list of the error variants that can be returned by
`EXPERIMENTAL_changes_in_block` method:

<ErrorSchemaTable />
