import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import { LantstoolLabel } from "@site/src/components/lantstool/LantstoolLabel/LantstoolLabel";
import { TryOutOnLantstool } from "@site/src/components/lantstool/TryOutOnLantstool";
import RequestJson from "./request-json.mdx";
import RequestBash from "./request-bash.mdx";
import ResponseJson from "./response-json.mdx";
import ErrorSchemaTable from "./error-schema-table.mdx";
import ErrorSchemaDescription from "../../general/error-schema-description.mdx";

## Transaction Status with Receipts {#transaction-status-with-receipts}

> Queries status of a transaction by hash, returning the final transaction
> result _and_ details of all receipts.

- method: `EXPERIMENTAL_tx_status`
- params:
  - `tx_hash` _(see [NearBlocks Explorer](https://testnet.nearblocks.io) for a valid transaction hash)_
  - `sender_account_id` _(used to determine which shard to query for transaction)_
  - [Optional] `wait_until`: the required minimal execution level.
    The default value is `EXECUTED_OPTIMISTIC`.
    Read more [here](/api/rpc/transactions#tx-status-result).

A Transaction status request with `wait_until != NONE` will wait until the
transaction appears on the blockchain. If the transaction does not exist,
the method will wait until the timeout is reached. If you only need to check
whether the transaction exists, use `wait_until = NONE`, it will return the response immediately.

Example:

<Tabs groupId="code-tabs">
  <TabItem value="json" label="JSON" default>
    <RequestJson />
  </TabItem>
  <TabItem value="http" label="HTTPie">
    <RequestBash />
  </TabItem>
</Tabs>

<details>
  <summary>Example response:</summary>
  <ResponseJson />
</details>

#### What could go wrong? {#what-could-go-wrong-3}

<ErrorSchemaDescription />

Here is the exhaustive list of the error variants that can be returned by `EXPERIMENTAL_tx_status` method:

<ErrorSchemaTable />
